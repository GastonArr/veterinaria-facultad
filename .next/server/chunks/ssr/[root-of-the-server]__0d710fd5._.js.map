{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/lib/firebaseAdmin.js"],"sourcesContent":["\nimport admin from 'firebase-admin';\n\n// Esta es la forma correcta y recomendada de inicializar el Admin SDK.\n// Se asegura de que la inicialización solo ocurra una vez.\nif (!admin.apps.length) {\n  try {\n    // Al llamar a initializeApp() sin argumentos, el SDK buscará automáticamente\n    // las credenciales del entorno (Application Default Credentials), que es\n    // la práctica recomendada en entornos de Google Cloud como Firebase Studio.\n    admin.initializeApp();\n  } catch (error) {\n    console.error('Error en la inicialización de Firebase Admin SDK:', error);\n  }\n}\n\n/**\n * Verifica la cookie de sesión de Firebase y devuelve el UID del usuario.\n * @param {string} sessionCookie La cadena de la cookie de sesión.\n * @returns {Promise<string|null>} El UID del usuario o null si la cookie no es válida.\n */\nexport async function getUserIdFromSession(sessionCookie) {\n  if (!sessionCookie) {\n    return null;\n  }\n  try {\n    // Verificamos la cookie de sesión. El `true` comprueba si ha sido revocada.\n    const decodedClaims = await admin.auth().verifySessionCookie(sessionCookie, true);\n    return decodedClaims.uid;\n  } catch (error) {\n    // La cookie de sesión es inválida o ha expirado.\n    console.error('Error al verificar la cookie de sesión:', error.code);\n    return null;\n  }\n}\n\n// Exportamos la instancia de admin ya inicializada.\nexport default admin;\n"],"names":[],"mappings":";;;;;;AACA;;AAEA,uEAAuE;AACvE,2DAA2D;AAC3D,IAAI,CAAC,sIAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,IAAI;QACF,6EAA6E;QAC7E,yEAAyE;QACzE,4EAA4E;QAC5E,sIAAK,CAAC,aAAa;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qDAAqD;IACrE;AACF;AAOO,eAAe,qBAAqB,aAAa;IACtD,IAAI,CAAC,eAAe;QAClB,OAAO;IACT;IACA,IAAI;QACF,4EAA4E;QAC5E,MAAM,gBAAgB,MAAM,sIAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,eAAe;QAC5E,OAAO,cAAc,GAAG;IAC1B,EAAE,OAAO,OAAO;QACd,iDAAiD;QACjD,QAAQ,KAAK,CAAC,2CAA2C,MAAM,IAAI;QACnE,OAAO;IACT;AACF;uCAGe,sIAAK","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/actions.js"],"sourcesContent":["\n'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport admin from '@/lib/firebaseAdmin';\n\nconst aplicationRoles = {\n  '00000001': 'admin',      // Magali - DNI sin puntos\n  '00000002': 'peluquera',\n  '00000003': 'transporte',\n};\n\nexport async function completarPerfil(userId, userData) {\n  const firestore = admin.firestore();\n  const auth = admin.auth();\n\n  // Campos que vienen del formulario de registro\n  const { \n    nombre, \n    apellido, \n    dni, \n    telefonoPrincipal, \n    telefonoSecundario, \n    direccion, \n    barrio, \n    nombreContactoEmergencia, \n    telefonoContactoEmergencia \n  } = userData;\n  \n  // Validación con los campos correctos\n  if (!userId || !nombre || !apellido || !dni || !telefonoPrincipal || !direccion || !barrio || !nombreContactoEmergencia || !telefonoContactoEmergencia) {\n    console.error('Validation failed. Missing data:', { userId, ...userData });\n    return { success: false, error: 'Faltan datos esenciales para completar el perfil.' };\n  }\n\n  try {\n    // Asignar rol. Si el DNI está en la lista, se le da un rol especial.\n    const userRole = aplicationRoles[dni] || 'dueño';\n\n    // 1. Asignar el \"custom claim\" para el rol de usuario en Authentication\n    await auth.setCustomUserClaims(userId, { role: userRole });\n\n    // 2. Guardar todos los datos del perfil en la base de datos Firestore\n    await firestore.collection('users').doc(userId).set({\n      nombre,\n      apellido,\n      dni,\n      telefonoPrincipal,\n      telefonoSecundario: telefonoSecundario || '', // Guardar aunque esté vacío\n      direccion,\n      barrio,\n      nombreContactoEmergencia,\n      telefonoContactoEmergencia,\n      role: userRole,\n      profileCompleted: true,\n      createdAt: admin.firestore.FieldValue.serverTimestamp(), // Buena práctica\n    }, { merge: true }); // Merge true para no sobrescribir datos si ya existía el doc.\n\n    // Invalidar caché para que los cambios se reflejen si es necesario\n    revalidatePath('/');\n    \n    return { success: true, role: userRole };\n\n  } catch (error) {\n    console.error('Error al completar el perfil en el servidor:', error);\n    // Devolver un error genérico para no exponer detalles de implementación\n    return { success: false, error: 'Ocurrió un error en el servidor al procesar tu perfil.' };\n  }\n}\n\n/**\n * Server Action para agregar una nueva mascota a un usuario.\n */\nexport async function agregarMascota(userId, mascotaData) {\n    if (!userId) {\n        return { success: false, error: 'Usuario no autenticado.' };\n    }\n\n    const { nombre, especie, raza, fechaNacimiento, tamaño, enAdopcion } = mascotaData;\n\n    if (!nombre || !especie || !raza || !fechaNacimiento || !tamaño) {\n        return { success: false, error: 'Todos los campos, incluyendo el tamaño, son obligatorios.' };\n    }\n\n    const firestore = admin.firestore();\n\n    try {\n        const mascotaRef = await firestore.collection('users').doc(userId).collection('mascotas').add({\n            nombre,\n            especie,\n            raza,\n            fechaNacimiento,\n            tamaño,\n            enAdopcion: enAdopcion || false, \n            createdAt: new Date(),\n        });\n\n        revalidatePath('/mascotas');\n\n        return { success: true, mascotaId: mascotaRef.id };\n\n    } catch (error) {\n        console.error('Error al agregar la mascota:', error);\n        return { success: false, error: 'No se pudo registrar la mascota en la base de datos.' };\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AAGA;AACA;;;;;;AAEA,MAAM,kBAAkB;IACtB,YAAY;IACZ,YAAY;IACZ,YAAY;AACd;AAEO,eAAe,gBAAgB,MAAM,EAAE,QAAQ;IACpD,MAAM,YAAY,sIAAK,CAAC,SAAS;IACjC,MAAM,OAAO,sIAAK,CAAC,IAAI;IAEvB,+CAA+C;IAC/C,MAAM,EACJ,MAAM,EACN,QAAQ,EACR,GAAG,EACH,iBAAiB,EACjB,kBAAkB,EAClB,SAAS,EACT,MAAM,EACN,wBAAwB,EACxB,0BAA0B,EAC3B,GAAG;IAEJ,sCAAsC;IACtC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,aAAa,CAAC,UAAU,CAAC,4BAA4B,CAAC,4BAA4B;QACtJ,QAAQ,KAAK,CAAC,oCAAoC;YAAE;YAAQ,GAAG,QAAQ;QAAC;QACxE,OAAO;YAAE,SAAS;YAAO,OAAO;QAAoD;IACtF;IAEA,IAAI;QACF,qEAAqE;QACrE,MAAM,WAAW,eAAe,CAAC,IAAI,IAAI;QAEzC,wEAAwE;QACxE,MAAM,KAAK,mBAAmB,CAAC,QAAQ;YAAE,MAAM;QAAS;QAExD,sEAAsE;QACtE,MAAM,UAAU,UAAU,CAAC,SAAS,GAAG,CAAC,QAAQ,GAAG,CAAC;YAClD;YACA;YACA;YACA;YACA,oBAAoB,sBAAsB;YAC1C;YACA;YACA;YACA;YACA,MAAM;YACN,kBAAkB;YAClB,WAAW,sIAAK,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe;QACvD,GAAG;YAAE,OAAO;QAAK,IAAI,8DAA8D;QAEnF,mEAAmE;QACnE,IAAA,+IAAc,EAAC;QAEf,OAAO;YAAE,SAAS;YAAM,MAAM;QAAS;IAEzC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gDAAgD;QAC9D,wEAAwE;QACxE,OAAO;YAAE,SAAS;YAAO,OAAO;QAAyD;IAC3F;AACF;AAKO,eAAe,eAAe,MAAM,EAAE,WAAW;IACpD,IAAI,CAAC,QAAQ;QACT,OAAO;YAAE,SAAS;YAAO,OAAO;QAA0B;IAC9D;IAEA,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG;IAEvE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,mBAAmB,CAAC,QAAQ;QAC7D,OAAO;YAAE,SAAS;YAAO,OAAO;QAA4D;IAChG;IAEA,MAAM,YAAY,sIAAK,CAAC,SAAS;IAEjC,IAAI;QACA,MAAM,aAAa,MAAM,UAAU,UAAU,CAAC,SAAS,GAAG,CAAC,QAAQ,UAAU,CAAC,YAAY,GAAG,CAAC;YAC1F;YACA;YACA;YACA;YACA;YACA,YAAY,cAAc;YAC1B,WAAW,IAAI;QACnB;QAEA,IAAA,+IAAc,EAAC;QAEf,OAAO;YAAE,SAAS;YAAM,WAAW,WAAW,EAAE;QAAC;IAErD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,SAAS;YAAO,OAAO;QAAuD;IAC3F;AACJ;;;IA7FsB;IA6DA;;AA7DA,+OAAA;AA6DA,+OAAA","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/admin/actions.js"],"sourcesContent":["\n'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport admin from '@/lib/firebaseAdmin';\n\nconst firestore = admin.firestore();\n\n/**\n * Confirma un turno pendiente.\n * @param {string} turnoId El ID del turno a confirmar.\n */\nexport async function confirmarTurno(turnoId) {\n  if (!turnoId) {\n    return { success: false, error: 'Se requiere el ID del turno.' };\n  }\n\n  try {\n    const turnoRef = firestore.collection('turnos').doc(turnoId);\n    await turnoRef.update({ estado: 'confirmado' });\n\n    // Revalidamos tanto la página de admin como la de los turnos del usuario.\n    revalidatePath('/admin/turnos');\n    revalidatePath('/mis-turnos');\n\n    return { success: true };\n  } catch (error) {\n    console.error('Error al confirmar el turno:', error);\n    return { success: false, error: 'No se pudo actualizar el turno.' };\n  }\n}\n\n/**\n * Cancela un turno pendiente o confirmado.\n * @param {string} turnoId El ID del turno a cancelar.\n */\nexport async function cancelarTurno(turnoId) {\n  if (!turnoId) {\n    return { success: false, error: 'Se requiere el ID del turno.' };\n  }\n\n  try {\n    const turnoRef = firestore.collection('turnos').doc(turnoId);\n    await turnoRef.update({ estado: 'cancelado' });\n\n    // Revalidamos ambas páginas para que el cambio se refleje en todos lados.\n    revalidatePath('/admin/turnos');\n    revalidatePath('/mis-turnos');\n\n    return { success: true };\n  } catch (error) {\n    console.error('Error al cancelar el turno:', error);\n    return { success: false, error: 'No se pudo actualizar el turno.' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAGA;AACA;;;;;;AAEA,MAAM,YAAY,sIAAK,CAAC,SAAS;AAM1B,eAAe,eAAe,OAAO;IAC1C,IAAI,CAAC,SAAS;QACZ,OAAO;YAAE,SAAS;YAAO,OAAO;QAA+B;IACjE;IAEA,IAAI;QACF,MAAM,WAAW,UAAU,UAAU,CAAC,UAAU,GAAG,CAAC;QACpD,MAAM,SAAS,MAAM,CAAC;YAAE,QAAQ;QAAa;QAE7C,0EAA0E;QAC1E,IAAA,+IAAc,EAAC;QACf,IAAA,+IAAc,EAAC;QAEf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,SAAS;YAAO,OAAO;QAAkC;IACpE;AACF;AAMO,eAAe,cAAc,OAAO;IACzC,IAAI,CAAC,SAAS;QACZ,OAAO;YAAE,SAAS;YAAO,OAAO;QAA+B;IACjE;IAEA,IAAI;QACF,MAAM,WAAW,UAAU,UAAU,CAAC,UAAU,GAAG,CAAC;QACpD,MAAM,SAAS,MAAM,CAAC;YAAE,QAAQ;QAAY;QAE5C,0EAA0E;QAC1E,IAAA,+IAAc,EAAC;QACf,IAAA,+IAAc,EAAC;QAEf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;YAAE,SAAS;YAAO,OAAO;QAAkC;IACpE;AACF;;;IA1CsB;IAwBA;;AAxBA,+OAAA;AAwBA,+OAAA","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/.next-internal/server/app/admin/turnos/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {completarPerfil as '6091545e0ff3735577794c80d201d16465bc00f7ee'} from 'ACTIONS_MODULE0'\nexport {confirmarTurno as '40fc3931ae80e2bbf0b255828b73cef7c5d83f508c'} from 'ACTIONS_MODULE1'\nexport {cancelarTurno as '4051c518dbfb6af23cd9b6b7c2ca9f51f8c42a2252'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/admin/TurnoActions.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/TurnoActions.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/TurnoActions.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/admin/TurnoActions.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/admin/TurnoActions.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/admin/TurnoActions.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/admin/turnos/page.js"],"sourcesContent":["\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport admin, { getUserIdFromSession } from '@/lib/firebaseAdmin';\nimport Link from 'next/link';\nimport { FiClock, FiCheckCircle, FiXCircle } from 'react-icons/fi';\nimport TurnoActions from '@/app/admin/TurnoActions'; // Importamos el nuevo componente de cliente\n\n// --- Funciones y Componentes del Servidor ---\n\n// Función para sanear los datos: convierte Timestamps a strings.\nconst sanitizeData = (docData) => {\n  const data = { ...docData };\n  for (const key in data) {\n    if (data[key] && typeof data[key].toDate === 'function') {\n      // Convertir Timestamp a string ISO. El componente que lo use lo puede formatear.\n      data[key] = data[key].toDate().toISOString();\n    }\n  }\n  return data;\n};\n\nasync function getTurnoDetails(turno) {\n    const firestore = admin.firestore();\n    let mascotaData = {};\n    let clienteData = {};\n    try {\n        const mascotaSnap = await firestore.collection('users').doc(turno.clienteId).collection('mascotas').doc(turno.mascotaId).get();\n        if (mascotaSnap.exists) mascotaData = sanitizeData(mascotaSnap.data());\n\n        const clienteSnap = await firestore.collection('users').doc(turno.clienteId).get();\n        if (clienteSnap.exists) clienteData = sanitizeData(clienteSnap.data());\n    } catch (error) {\n        console.error(`Error fetching details for turno ${turno.id}:`, error);\n    }\n    return {\n        ...turno,\n        mascotaNombre: mascotaData.nombre || 'N/A',\n        clienteNombre: clienteData.displayName || clienteData.email || 'N/A',\n    };\n}\n\nconst TurnoCard = ({ turno }) => {\n    const cardBgColor = turno.estado === 'pendiente' ? 'bg-yellow-100 border-yellow-400' : \n                        turno.estado === 'confirmado' ? 'bg-green-100 border-green-400' : \n                        'bg-red-100 border-red-400';\n\n    const statusIcon = turno.estado === 'pendiente' ? <FiClock className=\"text-yellow-500\" /> :\n                       turno.estado === 'confirmado' ? <FiCheckCircle className=\"text-green-500\" /> :\n                       <FiXCircle className=\"text-red-500\" />;\n\n    return (\n        <div className={`p-4 rounded-lg border ${cardBgColor} shadow-sm flex flex-col justify-between`}>\n            <div>\n                <div className=\"flex items-center mb-2\">\n                    {statusIcon}\n                    <span className=\"ml-2 font-semibold capitalize\">{turno.estado}</span>\n                </div>\n                <h3 className=\"text-lg font-bold\">{turno.tipo === 'peluqueria' ? 'Peluquería' : 'Consulta'}</h3>\n                <p className=\"text-sm text-gray-600\">Mascota: <span className=\"font-medium\">{turno.mascotaNombre}</span></p>\n                <p className=\"text-sm text-gray-600\">Dueño: <span className=\"font-medium\">{turno.clienteNombre}</span></p>\n                <p className=\"text-sm text-gray-600\">Fecha: <span className=\"font-medium\">{new Date(turno.fecha).toLocaleDateString()}</span></p>\n                {turno.turno && <p className=\"text-sm text-gray-600\">Horario: <span className=\"font-medium\">{turno.turno}</span></p>}\n            </div>\n            {/* Solo mostramos las acciones si el turno está pendiente */}\n            {turno.estado === 'pendiente' && <TurnoActions turnoId={turno.id} />}\n        </div>\n    );\n};\n\nexport default async function AdminTurnosPage() {\n    const sessionCookie = cookies().get('__session')?.value || '';\n    const userId = await getUserIdFromSession(sessionCookie);\n\n    if (!userId) redirect('/login');\n\n    const firestore = admin.firestore();\n    const userDocSnap = await firestore.collection('users').doc(userId).get();\n    const userRole = userDocSnap.data()?.role;\n\n    if (userRole !== 'admin') redirect('/');\n\n    const turnosSnap = await firestore.collection('turnos').orderBy('createdAt', 'desc').get();\n    \n    // Mapeamos y SANEAMOS los datos aquí, en el Server Component.\n    const turnosList = turnosSnap.docs.map(doc => ({ id: doc.id, ...sanitizeData(doc.data()) }));\n\n    const turnosConDetalles = await Promise.all(turnosList.map(getTurnoDetails));\n\n    const turnosPendientes = turnosConDetalles.filter(t => t.estado === 'pendiente');\n    const turnosConfirmados = turnosConDetalles.filter(t => t.estado === 'confirmado');\n    const turnosCancelados = turnosConDetalles.filter(t => t.estado === 'cancelado');\n\n    return (\n        <div className=\"container mx-auto p-6 bg-gray-50 min-h-screen\">\n            <header className=\"flex justify-between items-center mb-8\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Administración de Turnos</h1>\n                <Link href=\"/\" className=\"text-violet-600 hover:text-violet-800\">&larr; Volver al inicio</Link>\n            </header>\n\n            <section>\n                <h2 className=\"text-2xl font-semibold text-gray-700 mb-4 border-b pb-2\">Turnos Pendientes ({turnosPendientes.length})</h2>\n                {turnosPendientes.length > 0 ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {turnosPendientes.map(turno => <TurnoCard key={turno.id} turno={turno} />)}\n                    </div>\n                ) : (\n                    <p className=\"text-gray-500 italic\">No hay turnos pendientes de revisión.</p>\n                )}\n            </section>\n\n            <section className=\"mt-10\">\n                <h2 className=\"text-2xl font-semibold text-gray-700 mb-4 border-b pb-2\">Turnos Confirmados ({turnosConfirmados.length})</h2>\n                {turnosConfirmados.length > 0 ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {turnosConfirmados.map(turno => <TurnoCard key={turno.id} turno={turno} />)}\n                    </div>\n                ) : (\n                    <p className=\"text-gray-500 italic\">No hay turnos confirmados.</p>\n                )}\n            </section>\n\n             <section className=\"mt-10\">\n                <h2 className=\"text-2xl font-semibold text-gray-700 mb-4 border-b pb-2\">Turnos Cancelados ({turnosCancelados.length})</h2>\n                {turnosCancelados.length > 0 ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {turnosCancelados.map(turno => <TurnoCard key={turno.id} turno={turno} />)}\n                    </div>\n                ) : (\n                    <p className=\"text-gray-500 italic\">No hay turnos cancelados.</p>\n                )}\n            </section>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}