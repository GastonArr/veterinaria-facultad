{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/PrivateRoute.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\n\nexport default function PrivateRoute({ children }) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [isProfileComplete, setIsProfileComplete] = useState(false);\n  const [checkingProfile, setCheckingProfile] = useState(true);\n\n  useEffect(() => {\n    if (loading) return;\n\n\n    if (!user) {\n      if (pathname !== '/login') {\n        router.push('/login');\n      }\n\n      setCheckingProfile(false);\n      return;\n    }\n\n    const checkUserProfile = async () => {\n      try {\n\n        const userDocRef = doc(db, 'users', user.uid);\n        const userDoc = await getDoc(userDocRef);\n        \n\n        if (userDoc.exists() && userDoc.data().profileCompleted) {\n          setIsProfileComplete(true);\n        } else {\n          setIsProfileComplete(false);\n          if (pathname !== '/completar-perfil') {\n            router.push('/completar-perfil');\n          }\n        }\n      } catch (error) {\n        console.error(\"Error al verificar el perfil:\", error);\n\n        setIsProfileComplete(false);\n        if (pathname !== '/completar-perfil') {\n          router.push('/completar-perfil');\n        }\n      } finally {\n        setCheckingProfile(false);\n      }\n    };\n\n    checkUserProfile();\n\n  }, [user, loading, router, pathname]);\n\n  \n  if (loading || checkingProfile) {\n    return <div>Cargando...</div>; \n  }\n\n  \n  if (!user && pathname === '/login'){\n    return children;\n  }\n\n\n  if (isProfileComplete) {\n    return children;\n  }\n  \n  \n  if (!isProfileComplete && pathname === '/completar-perfil') {\n    return children;\n  }\n\n \n  return null;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AANA;;;;;;;AAQe,SAAS,aAAa,EAAE,QAAQ,EAAE;IAC/C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;QAGb,IAAI,CAAC,MAAM;YACT,IAAI,aAAa,UAAU;gBACzB,OAAO,IAAI,CAAC;YACd;YAEA,mBAAmB;YACnB;QACF;QAEA,MAAM,mBAAmB;YACvB,IAAI;gBAEF,MAAM,aAAa,IAAA,wKAAG,EAAC,4HAAE,EAAE,SAAS,KAAK,GAAG;gBAC5C,MAAM,UAAU,MAAM,IAAA,2KAAM,EAAC;gBAG7B,IAAI,QAAQ,MAAM,MAAM,QAAQ,IAAI,GAAG,gBAAgB,EAAE;oBACvD,qBAAqB;gBACvB,OAAO;oBACL,qBAAqB;oBACrB,IAAI,aAAa,qBAAqB;wBACpC,OAAO,IAAI,CAAC;oBACd;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iCAAiC;gBAE/C,qBAAqB;gBACrB,IAAI,aAAa,qBAAqB;oBACpC,OAAO,IAAI,CAAC;gBACd;YACF,SAAU;gBACR,mBAAmB;YACrB;QACF;QAEA;IAEF,GAAG;QAAC;QAAM;QAAS;QAAQ;KAAS;IAGpC,IAAI,WAAW,iBAAiB;QAC9B,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAGA,IAAI,CAAC,QAAQ,aAAa,UAAS;QACjC,OAAO;IACT;IAGA,IAAI,mBAAmB;QACrB,OAAO;IACT;IAGA,IAAI,CAAC,qBAAqB,aAAa,qBAAqB;QAC1D,OAAO;IACT;IAGA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/mascotas/page.jsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore';\nimport { db } from '@/lib/firebase'; \nimport PrivateRoute from '@/app/components/PrivateRoute';\nimport { FaPlusCircle, FaHeart } from 'react-icons/fa';\n\nconst MascotaCard = ({ mascota }) => {\n    const fechaNac = new Date(mascota.fechaNacimiento).toLocaleDateString('es-AR');\n    return (\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-1 transition-transform duration-300 relative\">\n            {mascota.enAdopcion && (\n                <div className=\"absolute top-3 right-3 bg-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1\">\n                    <FaHeart />\n                    <span>En Adopción</span>\n                </div>\n            )}\n            <div className=\"p-6\">\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">{mascota.nombre}</h3>\n                <p className=\"text-md text-gray-600\"><span className=\"font-semibold\">Especie:</span> {mascota.especie}</p>\n                <p className=\"text-md text-gray-600\"><span className=\"font-semibold\">Raza:</span> {mascota.raza}</p>\n                <p className=\"text-md text-gray-600\"><span className=\"font-semibold\">Nacimiento:</span> {fechaNac}</p>\n            </div>\n            <div className=\"bg-gray-50 p-4 flex justify-around\">\n                <Link href={`/mascotas/${mascota.id}/carnet`}>\n                    <span className=\"text-sm font-medium text-violet-600 hover:text-violet-800 transition-colors\">Ver Carnet</span>\n                </Link>\n                <button className=\"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors\">Editar</button>\n            </div>\n        </div>\n    );\n};\n\nconst MisMascotasContent = () => {\n    const { user } = useAuth();\n    const [mascotas, setMascotas] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        if (!user) return;\n\n        const fetchMascotas = async () => {\n            try {\n                const mascotasRef = collection(db, 'users', user.uid, 'mascotas');\n                const q = query(mascotasRef, orderBy('createdAt', 'desc'));\n                const snapshot = await getDocs(q);\n                const mascotasData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n                setMascotas(mascotasData);\n            } catch (error) {\n                console.error(\"Error al obtener las mascotas:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchMascotas();\n    }, [user]);\n\n    if (loading) {\n        return <div className=\"flex justify-center items-center h-screen\"><div className=\"loader\"></div></div>; \n    }\n\n    return (\n        <div className=\"bg-gray-50 p-4 sm:p-6 lg:p-8\">\n            <div className=\"max-w-7xl mx-auto\">\n                 <div className=\"bg-white shadow-lg rounded-2xl p-6 sm:p-8\">\n                    {/* Cabecera con navegación y título */}\n                    <div className=\"flex items-center mb-8\">\n                        <Link href=\"/\" legacyBehavior>\n                            <a className=\"flex items-center text-gray-600 hover:text-gray-900 transition-colors mr-6\">\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" /></svg>\n                                <span className=\"ml-1 font-medium\">Volver</span>\n                            </a>\n                        </Link>\n                        <h1 className=\"text-2xl font-bold text-gray-800 whitespace-nowrap\">Mis Mascotas</h1>\n                        <div className=\"w-full ml-6 border-b-2 border-dotted border-gray-300\"></div>\n                        <Link href=\"/mascotas/nueva\" legacyBehavior>\n                            <a className=\"ml-6 flex-shrink-0 inline-flex items-center gap-2 bg-violet-600 hover:bg-violet-700 text-white font-bold py-2 px-4 rounded-full transition-transform duration-300 transform hover:scale-105 shadow-lg\">\n                                <FaPlusCircle />\n                                Añadir\n                            </a>\n                        </Link>\n                    </div>\n\n                    {mascotas.length > 0 ? (\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                            {mascotas.map(mascota => (\n                                <MascotaCard key={mascota.id} mascota={mascota} />\n                            ))}\n                        </div>\n                    ) : (\n                         <div className=\"text-center py-12\">\n                            <h3 className=\"text-2xl font-semibold text-gray-800\">Aún no tienes mascotas registradas</h3>\n                            <p className=\"mt-4 text-gray-600\">¡No esperes más! Añade a tu primer compañero.</p>\n                            <div className=\"mt-8\">\n                                <Link href=\"/mascotas/nueva\" legacyBehavior>\n                                    <a className=\"bg-violet-600 hover:bg-violet-700 text-white font-bold py-3 px-6 rounded-full transition-transform duration-300 transform hover:scale-105 shadow-lg\">\n                                        Registrar mi Primera Mascota\n                                    </a>\n                                </Link>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default function MisMascotasPage() {\n    return (\n        <PrivateRoute>\n            <MisMascotasContent />\n        </PrivateRoute>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}