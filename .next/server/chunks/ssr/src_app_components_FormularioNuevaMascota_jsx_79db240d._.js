module.exports=[88092,a=>{"use strict";a.s(["default",()=>h],88092);var b=a.i(87924),c=a.i(72131),d=a.i(49975),e=a.i(5050),f=(0,e.createServerReference)("60a8d1efab3c5d77cfe814777f59789d34f62988eb",e.callServer,void 0,e.findSourceMapURL,"agregarMascota");a.i(69387);var g=a.i(60574);function h(){let{user:a}=(0,d.useAuth)(),[e,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),m=async b=>{if(b.preventDefault(),h(""),j(""),l(!0),!a){h("Debes iniciar sesión para registrar una mascota."),l(!1);return}let c=new FormData(b.currentTarget),d={nombre:c.get("nombre"),especie:c.get("especie"),raza:c.get("raza"),fechaNacimiento:c.get("fechaNacimiento"),sexo:c.get("sexo"),tamaño:c.get("tamaño"),enAdopcion:"on"===c.get("enAdopcion"),createdAt:g.Timestamp.now()};if(!d.nombre||!d.especie||!d.raza||!d.fechaNacimiento||!d.sexo){h("Por favor, completa todos los campos obligatorios."),l(!1);return}try{let c=await f(a.uid,d);c.success?(j("¡Mascota registrada con éxito! En breve serás redirigido..."),b.target.reset(),setTimeout(()=>{window.location.href="/mascotas"},2e3)):h(c.error||"Ocurrió un error inesperado.")}catch(a){h(a.message)}finally{l(!1)}};return(0,b.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,b.jsx)("input",{type:"text",name:"nombre",id:"nombre",required:!0,className:"mt-1 block w-full input",placeholder:"Ej: Rocky",disabled:k})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"fechaNacimiento",className:"block text-sm font-medium text-gray-700",children:"Fecha de Nacimiento"}),(0,b.jsx)("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento",required:!0,className:"mt-1 block w-full input",disabled:k})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"especie",className:"block text-sm font-medium text-gray-700",children:"Especie"}),(0,b.jsx)("input",{type:"text",name:"especie",id:"especie",required:!0,className:"mt-1 block w-full input",placeholder:"Ej: Perro",disabled:k})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"raza",className:"block text-sm font-medium text-gray-700",children:"Raza"}),(0,b.jsx)("input",{type:"text",name:"raza",id:"raza",required:!0,className:"mt-1 block w-full input",placeholder:"Ej: Labrador",disabled:k})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"sexo",className:"block text-sm font-medium text-gray-700",children:"Sexo"}),(0,b.jsxs)("select",{name:"sexo",id:"sexo",required:!0,className:"mt-1 block w-full input",disabled:k,children:[(0,b.jsx)("option",{value:"",children:"Selecciona..."}),(0,b.jsx)("option",{value:"macho",children:"Macho"}),(0,b.jsx)("option",{value:"hembra",children:"Hembra"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"tamaño",className:"block text-sm font-medium text-gray-700",children:"Tamaño"}),(0,b.jsxs)("select",{name:"tamaño",id:"tamaño",required:!0,className:"mt-1 block w-full input",disabled:k,children:[(0,b.jsx)("option",{value:"pequeño",children:"Pequeño"}),(0,b.jsx)("option",{value:"mediano",children:"Mediano"}),(0,b.jsx)("option",{value:"grande",children:"Grande"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center pt-4",children:[(0,b.jsx)("input",{id:"enAdopcion",name:"enAdopcion",type:"checkbox",className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-gray-300 rounded",disabled:k}),(0,b.jsx)("label",{htmlFor:"enAdopcion",className:"ml-3 block text-sm text-gray-900",children:"Marcar para poner en adopción"})]}),e&&(0,b.jsx)("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:e}),i&&(0,b.jsx)("p",{className:"text-sm text-green-600 bg-green-100 p-3 rounded-md",children:i}),(0,b.jsx)("div",{className:"pt-6",children:(0,b.jsx)("button",{type:"submit",disabled:k,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-full shadow-sm text-lg font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 transition-colors duration-300 disabled:bg-violet-400 disabled:cursor-not-allowed",children:k?"Guardando...":"Registrar Mascota"})})]})}}];

//# sourceMappingURL=src_app_components_FormularioNuevaMascota_jsx_79db240d._.js.map