{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/GaleriaAdopciones.jsx"],"sourcesContent":["\nimport admin from '@/lib/firebaseAdmin';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\n// Esta es una función de servidor que obtiene los datos directamente de Firestore.\nasync function getMascotasEnAdopcion() {\n    try {\n        const firestore = admin.firestore();\n        // ¡CONSULTA CORREGIDA! Ahora también ordena por fecha de creación.\n        const mascotasSnapshot = await firestore\n            .collectionGroup('mascotas')\n            .where('enAdopcion', '==', true)\n            .orderBy('createdAt', 'desc') // Mostramos las más recientes primero\n            .limit(8)\n            .get();\n\n        if (mascotasSnapshot.empty) {\n            return [];\n        }\n\n        const mascotas = mascotasSnapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data(),\n        }));\n\n        return mascotas;\n\n    } catch (error) {\n        console.error(\"Error al obtener mascotas en adopción:\", error);\n        // Si la consulta falla (por ejemplo, por el índice), devolvemos un array vacío.\n        // La consola del servidor de Next.js mostrará un error con un enlace para crear el índice.\n        return [];\n    }\n}\n\n// --- Componente de la Tarjeta de Mascota ---\nfunction MascotaCard({ mascota }) {\n    // Usamos la especie para obtener una imagen más relevante. Default a 'animal' si no está definida.\n    const especie = mascota.especie?.toLowerCase() === 'gato' ? 'cat' : 'dog';\n\n    return (\n        <Link href={`/adopciones/${mascota.id}`} className=\"group block bg-white rounded-2xl shadow-lg hover:shadow-2xl overflow-hidden transform hover:-translate-y-2 transition-all duration-300 ease-out\">\n            <div className=\"relative w-full h-56\">\n                <Image \n                    src={`https://loremflickr.com/320/320/${especie}?lock=${mascota.id}`} // loremflickr para fotos realistas y lock para que sea consistente\n                    alt={`Foto de ${mascota.nombre}`}\n                    fill\n                    style={{ objectFit: 'cover' }}\n                    className=\"transition-transform duration-300 group-hover:scale-110\"\n                />\n                {/* Overlay que aparece al hacer hover */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    <span className=\"text-white text-lg font-bold\">Ver Perfil</span>\n                </div>\n            </div>\n            <div className=\"p-5\">\n                <div className=\"flex justify-between items-start\">\n                    <h3 className=\"text-2xl font-bold text-gray-900 truncate\">{mascota.nombre}</h3>\n                    <span className={`mt-1 inline-block px-3 py-1 text-xs font-semibold rounded-full ${ \n                        mascota.sexo === 'macho' ? 'bg-blue-200 text-blue-800' :\n                        'bg-pink-200 text-pink-800'\n                    }`}>\n                        {mascota.sexo}\n                    </span>\n                </div>\n                <p className=\"text-gray-600 capitalize mb-3\">{mascota.raza}</p>\n                <span className={`inline-block px-3 py-1 text-sm font-semibold rounded-full ${ \n                    mascota.tamaño === 'grande' ? 'bg-red-200 text-red-800' :\n                    mascota.tamaño === 'mediano' ? 'bg-yellow-200 text-yellow-800' :\n                    'bg-green-200 text-green-800'\n                }`}>\n                    {mascota.tamaño}\n                </span>\n            </div>\n        </Link>\n    );\n}\n\n\n// --- Componente Principal de la Galería ---\nexport default async function GaleriaAdopciones() {\n    const mascotas = await getMascotasEnAdopcion();\n\n    return (\n        <section className=\"mb-20 md:mb-28\">\n            <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl md:text-5xl font-extrabold text-gray-800\">Una Nueva Oportunidad</h2>\n                <p className=\"text-lg text-gray-500 mt-2 max-w-2xl mx-auto\">Estos maravillosos compañeros están buscando un hogar lleno de amor. ¿Serás tú?</p>\n            </div>\n\n            {mascotas.length === 0 ? (\n                <div className=\"text-center text-gray-600 bg-gray-50 p-10 rounded-2xl shadow-inner border border-gray-200\">\n                     <p className=\"text-lg max-w-3xl mx-auto\">Por ahora no hay amiguitos buscando un nuevo hogar, ¡pero vuelve a revisar pronto!</p>\n                </div>\n            ) : (\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n                    {mascotas.map(mascota => (\n                        <MascotaCard key={mascota.id} mascota={mascota} />\n                    ))}\n                </div>\n            )}\n        </section>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;;;AAEA,mFAAmF;AACnF,eAAe;IACX,IAAI;QACA,MAAM,YAAY,sIAAK,CAAC,SAAS;QACjC,mEAAmE;QACnE,MAAM,mBAAmB,MAAM,UAC1B,eAAe,CAAC,YAChB,KAAK,CAAC,cAAc,MAAM,MAC1B,OAAO,CAAC,aAAa,QAAQ,sCAAsC;SACnE,KAAK,CAAC,GACN,GAAG;QAER,IAAI,iBAAiB,KAAK,EAAE;YACxB,OAAO,EAAE;QACb;QAEA,MAAM,WAAW,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC/C,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;YACjB,CAAC;QAED,OAAO;IAEX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0CAA0C;QACxD,gFAAgF;QAChF,2FAA2F;QAC3F,OAAO,EAAE;IACb;AACJ;AAEA,8CAA8C;AAC9C,SAAS,YAAY,EAAE,OAAO,EAAE;IAC5B,mGAAmG;IACnG,MAAM,UAAU,QAAQ,OAAO,EAAE,kBAAkB,SAAS,QAAQ;IAEpE,qBACI,8OAAC,uKAAI;QAAC,MAAM,CAAC,YAAY,EAAE,QAAQ,EAAE,EAAE;QAAE,WAAU;;0BAC/C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,wIAAK;wBACF,KAAK,CAAC,gCAAgC,EAAE,QAAQ,MAAM,EAAE,QAAQ,EAAE,EAAE;wBACpE,KAAK,CAAC,QAAQ,EAAE,QAAQ,MAAM,EAAE;wBAChC,IAAI;wBACJ,OAAO;4BAAE,WAAW;wBAAQ;wBAC5B,WAAU;;;;;;kCAGd,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;;;;;;;0BAGvD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAA6C,QAAQ,MAAM;;;;;;0CACzE,8OAAC;gCAAK,WAAW,CAAC,+DAA+D,EAC7E,QAAQ,IAAI,KAAK,UAAU,8BAC3B,6BACF;0CACG,QAAQ,IAAI;;;;;;;;;;;;kCAGrB,8OAAC;wBAAE,WAAU;kCAAiC,QAAQ,IAAI;;;;;;kCAC1D,8OAAC;wBAAK,WAAW,CAAC,0DAA0D,EACxE,QAAQ,MAAM,KAAK,WAAW,4BAC9B,QAAQ,MAAM,KAAK,YAAY,kCAC/B,+BACF;kCACG,QAAQ,MAAM;;;;;;;;;;;;;;;;;;AAKnC;AAIe,eAAe;IAC1B,MAAM,WAAW,MAAM;IAEvB,qBACI,8OAAC;QAAQ,WAAU;;0BACf,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,8OAAC;wBAAE,WAAU;kCAA+C;;;;;;;;;;;;YAG/D,SAAS,MAAM,KAAK,kBACjB,8OAAC;gBAAI,WAAU;0BACV,cAAA,8OAAC;oBAAE,WAAU;8BAA4B;;;;;;;;;;qCAG9C,8OAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAA,wBACV,8OAAC;wBAA6B,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAMpD","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/VistaTienda.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/components/VistaTienda.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/components/VistaTienda.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/VistaTienda.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/components/VistaTienda.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/components/VistaTienda.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/Dashboard.js"],"sourcesContent":["import Link from 'next/link';\nimport GaleriaAdopciones from './GaleriaAdopciones';\nimport VistaTienda from './VistaTienda';\n\nexport default function Dashboard() {\n  return (\n    <main \n      className=\"flex-grow bg-cover bg-center\"\n      style={{ backgroundImage: \"url('/patron1.jpg')\" }}\n    >\n      <div className=\"bg-white bg-opacity-75 backdrop-blur-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20\">\n          {/* ========= SECCIÓN DE TURNOS (CLIENTE) ========= */}\n          <section className=\"text-center mb-20 md:mb-28\">\n              <div className=\"flex flex-col md:flex-row justify-center items-center gap-8\">\n                  <Link \n                      href=\"/turnos/consulta\" \n                      className=\"w-full md:w-auto bg-violet-600 hover:bg-violet-700 text-white font-bold py-5 px-10 rounded-xl text-lg uppercase tracking-wider transition-transform transform hover:scale-105 shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-violet-300\"\n                  >\n                      Pedir Turno Consulta\n                  </Link>\n                  <Link \n                      href=\"/turnos/peluqueria\" \n                      className=\"w-full md:w-auto bg-teal-500 hover:bg-teal-600 text-white font-bold py-5 px-10 rounded-xl text-lg uppercase tracking-wider transition-transform transform hover:scale-105 shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-teal-300\"\n                  >\n                      Pedir Turno Peluquería\n                  </Link>\n              </div>\n          </section>\n\n          {/* ========= SECCIÓN DE ADOPCIONES (SERVIDOR) ========= */}\n          {/* @ts-ignore -> https://github.com/vercel/next.js/issues/42292 */}\n          <GaleriaAdopciones />\n\n          {/* ========= SECCIÓN DE TIENDA (CLIENTE) ========= */}\n          <VistaTienda />\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YAAE,iBAAiB;QAAsB;kBAEhD,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAQ,WAAU;kCACf,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,uKAAI;oCACD,MAAK;oCACL,WAAU;8CACb;;;;;;8CAGD,8OAAC,uKAAI;oCACD,MAAK;oCACL,WAAU;8CACb;;;;;;;;;;;;;;;;;kCAQT,8OAAC,yJAAiB;;;;;kCAGlB,8OAAC,mJAAW;;;;;;;;;;;;;;;;;;;;;AAKtB","debugId":null}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/LandingPage.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/components/LandingPage.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/components/LandingPage.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/LandingPage.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/components/LandingPage.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/components/LandingPage.js\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/page.js"],"sourcesContent":["import { cookies } from 'next/headers';\nimport Dashboard from '@/app/components/Dashboard';\nimport LandingPage from '@/app/components/LandingPage';\n\n// Esta página actúa como un enrutador del lado del servidor.\n// Lee la cookie de sesión para decidir qué componente renderizar\n// antes de enviar la página al cliente.\n\nasync function checkUserSession() {\n  const cookieStore = cookies();\n  const sessionCookie = cookieStore.get('__session');\n  \n  // La presencia de la cookie __session es nuestro indicador de que el usuario está logueado.\n  // La validación real del token se maneja en el middleware y en las rutas de API seguras.\n  return sessionCookie ? { isLoggedIn: true } : { isLoggedIn: false };\n}\n\nexport default async function HomePage() {\n    const { isLoggedIn } = await checkUserSession();\n\n    // Si el usuario tiene una sesión activa, se le muestra el Dashboard principal de la aplicación.\n    if (isLoggedIn) {\n        return <Dashboard />;\n    }\n\n    // Si el usuario no tiene una sesión, se le muestra la página de bienvenida (Landing Page).\n    return <LandingPage />;\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,6DAA6D;AAC7D,iEAAiE;AACjE,wCAAwC;AAExC,eAAe;IACb,MAAM,cAAc,IAAA,0IAAO;IAC3B,MAAM,gBAAgB,YAAY,GAAG,CAAC;IAEtC,4FAA4F;IAC5F,yFAAyF;IACzF,OAAO,gBAAgB;QAAE,YAAY;IAAK,IAAI;QAAE,YAAY;IAAM;AACpE;AAEe,eAAe;IAC1B,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM;IAE7B,gGAAgG;IAChG,IAAI,YAAY;QACZ,qBAAO,8OAAC,gJAAS;;;;;IACrB;IAEA,2FAA2F;IAC3F,qBAAO,8OAAC,kJAAW;;;;;AACvB","debugId":null}}]
}