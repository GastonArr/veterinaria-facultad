{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/lib/firebaseAdmin.js"],"sourcesContent":["\nimport admin from 'firebase-admin';\n\n// Esta es la forma correcta y recomendada de inicializar el Admin SDK.\n// Se asegura de que la inicialización solo ocurra una vez.\nif (!admin.apps.length) {\n  try {\n    // Al llamar a initializeApp() sin argumentos, el SDK buscará automáticamente\n    // las credenciales del entorno (Application Default Credentials), que es\n    // la práctica recomendada en entornos de Google Cloud como Firebase Studio.\n    admin.initializeApp();\n  } catch (error) {\n    console.error('Error en la inicialización de Firebase Admin SDK:', error);\n  }\n}\n\n/**\n * Verifica la cookie de sesión de Firebase y devuelve el UID del usuario.\n * @param {string} sessionCookie La cadena de la cookie de sesión.\n * @returns {Promise<string|null>} El UID del usuario o null si la cookie no es válida.\n */\nexport async function getUserIdFromSession(sessionCookie) {\n  if (!sessionCookie) {\n    return null;\n  }\n  try {\n    // Verificamos la cookie de sesión. El `true` comprueba si ha sido revocada.\n    const decodedClaims = await admin.auth().verifySessionCookie(sessionCookie, true);\n    return decodedClaims.uid;\n  } catch (error) {\n    // La cookie de sesión es inválida o ha expirado.\n    console.error('Error al verificar la cookie de sesión:', error.code);\n    return null;\n  }\n}\n\n// Exportamos la instancia de admin ya inicializada.\nexport default admin;\n"],"names":[],"mappings":";;;;;;AACA;;AAEA,uEAAuE;AACvE,2DAA2D;AAC3D,IAAI,CAAC,sIAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,IAAI;QACF,6EAA6E;QAC7E,yEAAyE;QACzE,4EAA4E;QAC5E,sIAAK,CAAC,aAAa;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qDAAqD;IACrE;AACF;AAOO,eAAe,qBAAqB,aAAa;IACtD,IAAI,CAAC,eAAe;QAClB,OAAO;IACT;IACA,IAAI;QACF,4EAA4E;QAC5E,MAAM,gBAAgB,MAAM,sIAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,eAAe;QAC5E,OAAO,cAAc,GAAG;IAC1B,EAAE,OAAO,OAAO;QACd,iDAAiD;QACjD,QAAQ,KAAK,CAAC,2CAA2C,MAAM,IAAI;QACnE,OAAO;IACT;AACF;uCAGe,sIAAK","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/GaleriaAdopciones.jsx"],"sourcesContent":["\nimport admin from '@/lib/firebaseAdmin';\n\n// Esta es una función de servidor que obtiene los datos directamente de Firestore.\nasync function getMascotasEnAdopcion() {\n    try {\n        const firestore = admin.firestore();\n        // Usamos una consulta \"collectionGroup\" para buscar en todas las subcolecciones \"mascotas\"\n        const mascotasSnapshot = await firestore.collectionGroup('mascotas').where('enAdopcion', '==', true).get();\n\n        if (mascotasSnapshot.empty) {\n            return [];\n        }\n\n        const mascotas = mascotasSnapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data(),\n        }));\n\n        return mascotas;\n\n    } catch (error) {\n        console.error(\"Error al obtener mascotas en adopción:\", error);\n        // En caso de un error en la base de datos, devolvemos un array vacío para no romper la página.\n        return [];\n    }\n}\n\n// Este es un React Server Component (RSC). Se ejecuta en el servidor.\nexport default async function GaleriaAdopciones() {\n    const mascotas = await getMascotasEnAdopcion();\n\n    return (\n        <section className=\"mb-20 md:mb-28\">\n            <h2 className=\"text-4xl font-extrabold text-center text-gray-800 mb-12\">\n                Una Nueva Oportunidad\n            </h2>\n\n            {mascotas.length === 0 ? (\n                <div className=\"text-center text-gray-600 bg-gray-50 p-10 rounded-2xl shadow-inner border border-gray-200\">\n                     <p className=\"text-lg max-w-3xl mx-auto\">Por ahora no hay amiguitos buscando un nuevo hogar, ¡pero vuelve a revisar pronto!</p>\n                </div>\n            ) : (\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\">\n                    {mascotas.map(mascota => (\n                        <div key={mascota.id} className=\"bg-white rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer\">\n                            {/* Div para la imagen - Placeholder */}\n                            <div className=\"relative w-full h-48 bg-gray-200 flex items-center justify-center\">\n                                <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"></path></svg>\n                            </div>\n                            <div className=\"p-5\">\n                                <h3 className=\"text-2xl font-bold text-gray-900 truncate\">{mascota.nombre}</h3>\n                                <p className=\"text-gray-600 capitalize mb-2\">{mascota.raza}</p>\n                                <span className={`inline-block px-3 py-1 text-xs font-semibold rounded-full ${ \n                                    mascota.tamaño === 'grande' ? 'bg-red-200 text-red-800' :\n                                    mascota.tamaño === 'mediano' ? 'bg-yellow-200 text-yellow-800' :\n                                    'bg-green-200 text-green-800'\n                                }`}>\n                                    {mascota.tamaño}\n                                </span>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </section>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,mFAAmF;AACnF,eAAe;IACX,IAAI;QACA,MAAM,YAAY,sIAAK,CAAC,SAAS;QACjC,2FAA2F;QAC3F,MAAM,mBAAmB,MAAM,UAAU,eAAe,CAAC,YAAY,KAAK,CAAC,cAAc,MAAM,MAAM,GAAG;QAExG,IAAI,iBAAiB,KAAK,EAAE;YACxB,OAAO,EAAE;QACb;QAEA,MAAM,WAAW,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC/C,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;YACjB,CAAC;QAED,OAAO;IAEX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0CAA0C;QACxD,+FAA+F;QAC/F,OAAO,EAAE;IACb;AACJ;AAGe,eAAe;IAC1B,MAAM,WAAW,MAAM;IAEvB,qBACI,8OAAC;QAAQ,WAAU;;0BACf,8OAAC;gBAAG,WAAU;0BAA0D;;;;;;YAIvE,SAAS,MAAM,KAAK,kBACjB,8OAAC;gBAAI,WAAU;0BACV,cAAA,8OAAC;oBAAE,WAAU;8BAA4B;;;;;;;;;;qCAG9C,8OAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAA,wBACV,8OAAC;wBAAqB,WAAU;;0CAE5B,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAI,WAAU;oCAA0B,MAAK;oCAAO,QAAO;oCAAe,SAAQ;oCAAY,OAAM;8CAA6B,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAY;wCAAI,GAAE;;;;;;;;;;;;;;;;0CAE3M,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAA6C,QAAQ,MAAM;;;;;;kDACzE,8OAAC;wCAAE,WAAU;kDAAiC,QAAQ,IAAI;;;;;;kDAC1D,8OAAC;wCAAK,WAAW,CAAC,0DAA0D,EACxE,QAAQ,MAAM,KAAK,WAAW,4BAC9B,QAAQ,MAAM,KAAK,YAAY,kCAC/B,+BACF;kDACG,QAAQ,MAAM;;;;;;;;;;;;;uBAbjB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAsB5C","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/page.js"],"sourcesContent":["\nimport Link from 'next/link';\nimport GaleriaAdopciones from '@/app/components/GaleriaAdopciones.jsx';\n\n// Convertimos HomePage en un componente asíncrono para poder usar `await`\n// al renderizar Server Components que obtienen datos, como GaleriaAdopciones.\nexport default async function HomePage() {\n    return (\n        <main className=\"flex-grow bg-white\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20\">\n\n                {/* ========= SECCIÓN DE TURNOS ========= */}\n                <section className=\"text-center mb-20 md:mb-28\">\n                    <div className=\"flex flex-col md:flex-row justify-center items-center gap-8\">\n                        <Link \n                            href=\"/turnos/consulta\" \n                            className=\"w-full md:w-auto bg-violet-600 hover:bg-violet-700 text-white font-bold py-5 px-10 rounded-xl text-lg uppercase tracking-wider transition-transform transform hover:scale-105 shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-violet-300\"\n                        >\n                            Pedir Turno Consulta\n                        </Link>\n                        <Link \n                            href=\"/turnos/peluqueria\" \n                            className=\"w-full md:w-auto bg-teal-500 hover:bg-teal-600 text-white font-bold py-5 px-10 rounded-xl text-lg uppercase tracking-wider transition-transform transform hover:scale-105 shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-teal-300\"\n                        >\n                            Pedir Turno Peluquería\n                        </Link>\n                    </div>\n                </section>\n\n                {/* ========= SECCIÓN DE ADOPCIONES (AHORA DINÁMICA) ========= */}\n                <GaleriaAdopciones />\n\n                {/* ========= SECCIÓN DE TIENDA (SIGUE SIENDO UN PLACEHOLDER) ========= */}\n                <section>\n                     <h2 className=\"text-4xl font-extrabold text-center text-gray-800 mb-10\">\n                        Nuestra Tienda\n                     </h2>\n                     <div className=\"text-center text-gray-600 bg-gray-50 p-10 rounded-2xl shadow-inner border border-gray-200\">\n                         <p className=\"text-lg max-w-3xl mx-auto\">Próximamente: Explora nuestra selección de productos de alta calidad para el cuidado y bienestar de tu mascota. El carrito de compras estará disponible aquí mismo.</p>\n                     </div>\n                </section>\n\n            </div>\n        </main>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAIe,eAAe;IAC1B,qBACI,8OAAC;QAAK,WAAU;kBACZ,cAAA,8OAAC;YAAI,WAAU;;8BAGX,8OAAC;oBAAQ,WAAU;8BACf,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,uKAAI;gCACD,MAAK;gCACL,WAAU;0CACb;;;;;;0CAGD,8OAAC,uKAAI;gCACD,MAAK;gCACL,WAAU;0CACb;;;;;;;;;;;;;;;;;8BAOT,8OAAC,yJAAiB;;;;;8BAGlB,8OAAC;;sCACI,8OAAC;4BAAG,WAAU;sCAA0D;;;;;;sCAGxE,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAE,WAAU;0CAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlE","debugId":null}}]
}