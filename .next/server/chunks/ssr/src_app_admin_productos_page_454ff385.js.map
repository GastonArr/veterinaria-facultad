{"version":3,"sources":["turbopack:///[project]/src/app/admin/productos/page.js"],"sourcesContent":["\n'use client';\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { db } from '@/lib/firebase'; // <-- CORREGIDO\nimport { collection, getDocs } from 'firebase/firestore';\n\nconst ProductosPage = () => {\n  const { userRole } = useAuth();\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchProductos = async () => {\n      try {\n        const productosCollection = collection(db, 'products'); // <-- CORREGIDO\n        const productosSnapshot = await getDocs(productosCollection);\n        const productosData = productosSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n        setProductos(productosData);\n      } catch (error) {\n        console.error(\"Error al obtener los productos: \", error);\n      }\n      setLoading(false);\n    };\n\n    if (userRole === 'admin') {\n      fetchProductos();\n    }\n  }, [userRole]);\n\n  if (userRole !== 'admin') {\n    return (\n      <div className=\"flex justify-center items-center h-full\">\n        <p className=\"text-red-500\">No tienes permiso para ver esta página.</p>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return <p>Cargando productos...</p>;\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-3xl font-bold\">Productos</h1>\n        <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\n          Añadir Producto\n        </button>\n      </div>\n      <div className=\"bg-white shadow-md rounded my-6\">\n        <table className=\"min-w-full leading-normal\">\n          <thead>\n            <tr>\n              <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n                Nombre\n              </th>\n              <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n                Precio\n              </th>\n              <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n                Stock\n              </th>\n              <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {productos.map(producto => (\n              <tr key={producto.id}>\n                <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\n                  <p className=\"text-gray-900 whitespace-no-wrap\">{producto.nombre}</p>\n                </td>\n                <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\n                  <p className=\"text-gray-900 whitespace-no-wrap\">${producto.precio}</p>\n                </td>\n                <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\n                  <p className=\"text-gray-900 whitespace-no-wrap\">{producto.stock}</p>\n                </td>\n                <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm text-right\">\n                  <button className=\"text-indigo-600 hover:text-indigo-900\">Editar</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductosPage;\n"],"names":[],"mappings":"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"}