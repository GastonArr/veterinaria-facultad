module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{callServer:function(){return d.callServer},createServerReference:function(){return f.createServerReference},findSourceMapURL:function(){return e.findSourceMapURL}});let d=a.r(20611),e=a.r(1722),f=a.r(38783)},50944,(a,b,c)=>{b.exports=a.r(74137)},49975,31161,a=>{"use strict";a.s(["AuthProvider",()=>k,"useAuth",()=>j],49975);var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052),e=a.i(16121),f=a.i(50944);a.s(["completarPerfil",()=>h],31161);var g=a.i(5050),h=(0,g.createServerReference)("607e2e33671e9af3b7c889b8ece695a8d12ed1593e",g.callServer,void 0,g.findSourceMapURL,"completarPerfil");let i=(0,c.createContext)(),j=()=>(0,c.useContext)(i),k=({children:a})=>{let[g,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),o=(0,f.useRouter)(),p=async()=>{let a=new d.GoogleAuthProvider;try{return await (0,d.signInWithPopup)(e.auth,a)}catch(a){console.error("Error durante el inicio de sesión con Google:",a)}},q=async(a,b)=>{try{return await (0,d.signInWithEmailAndPassword)(e.auth,a,b)}catch(a){throw console.error("Error durante el inicio de sesión con email y contraseña:",a),a}},r=async(a,b,c)=>{try{let f=await (0,d.createUserWithEmailAndPassword)(e.auth,a,b),g=f.user;return g&&await h(g.uid,c),f}catch(a){throw console.error("Error durante el registro:",a),a}},s=async a=>{try{await (0,d.sendPasswordResetEmail)(e.auth,a)}catch(a){throw console.error("Error al enviar el correo de restablecimiento de contraseña:",a),a}},t=async(a,b)=>{let c=e.auth.currentUser;if(!c||!c.email)throw Error("No hay un usuario autenticado para realizar esta operación.");let f=d.EmailAuthProvider.credential(c.email,a);try{await (0,d.reauthenticateWithCredential)(c,f),await (0,d.updatePassword)(c,b)}catch(a){throw console.error("Error al cambiar la contraseña:",a),a}},u=async()=>{try{await (0,d.signOut)(e.auth),await fetch("/api/auth/session",{method:"DELETE"}),o.push("/login")}catch(a){console.error("Error durante el cierre de sesión:",a)}};return(0,c.useEffect)(()=>{let a=(0,d.onAuthStateChanged)(e.auth,async a=>{if(n(!0),a)try{let b=await a.getIdToken();await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:b})});let c=(await a.getIdTokenResult(!0)).claims.role;j(a),l(c||"dueño")}catch(b){console.error("Error al gestionar la sesión del usuario:",b),j(a),l("dueño")}else j(null),l(null);n(!1)});return()=>a()},[]),(0,b.jsx)(i.Provider,{value:{user:g,userRole:k,loading:m,loginWithGoogle:p,loginWithEmail:q,registerWithEmailAndPassword:r,resetPassword:s,changePassword:t,logout:u},children:a})}},8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(87924),e=a.r(51234),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},62443,a=>{"use strict";a.s(["default",()=>c]);var b=a.i(87924);function c(){return(0,b.jsx)("footer",{className:"bg-gray-800 text-white p-4 mt-auto",children:(0,b.jsx)("div",{className:"container mx-auto text-center",children:(0,b.jsx)("p",{children:"© 2024 Veterinaria Magali Martin. Todos los derechos reservados."})})})}},38099,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(38246),d=a.i(49975);let e=()=>{let{user:a,loading:e,logout:f,userRole:g}=(0,d.useAuth)();return(0,b.jsxs)("header",{className:"bg-white text-gray-800 p-4 flex flex-wrap justify-between items-center shadow-md sticky top-0 z-50 w-full gap-y-3 sm:gap-y-0",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,b.jsx)(c.default,{href:"/",className:"text-xl md:text-2xl font-bold text-gray-900 hover:text-violet-700 transition-colors",children:"Veterinaria Magali Martin"})}),a&&(0,b.jsx)("nav",{className:"w-full sm:w-auto flex-grow flex justify-center items-center order-3 sm:order-2",children:(0,b.jsxs)("div",{className:"flex justify-center items-center space-x-3 md:space-x-4 border-t sm:border-t-0 pt-3 sm:pt-0 w-full sm:w-auto",children:[(0,b.jsx)(c.default,{href:"/mis-datos",className:"text-xs md:text-sm font-medium hover:text-violet-600 transition-colors uppercase tracking-wider",children:"Mis Datos"}),(0,b.jsx)("span",{className:"text-gray-300",children:"|"}),(0,b.jsx)(c.default,{href:"/mascotas",className:"text-xs md:text-sm font-medium hover:text-violet-600 transition-colors uppercase tracking-wider",children:"Mis Mascotas"}),(0,b.jsx)("span",{className:"text-gray-300",children:"|"}),(0,b.jsx)(c.default,{href:"/mis-turnos",className:"text-xs md:text-sm font-medium hover:text-violet-600 transition-colors uppercase tracking-wider",children:"Mis Turnos"})]})}),(0,b.jsx)("div",{className:"flex-shrink-0 flex items-center order-2 sm:order-3",children:e?(0,b.jsx)("div",{className:"h-8 w-24 bg-gray-200 rounded-full animate-pulse"}):a?(0,b.jsxs)("div",{className:"flex items-center",children:["admin"===g&&(0,b.jsx)(c.default,{href:"/admin",className:"bg-gray-100 text-gray-600 font-semibold px-3 py-2 rounded-full text-xs hover:bg-gray-200 transition-colors mr-2",children:"Admin"}),(0,b.jsx)("button",{onClick:f,className:"bg-violet-600 hover:bg-violet-700 text-white font-semibold px-3 sm:px-4 py-2 rounded-full transition-colors text-sm",children:"Salir"})]}):(0,b.jsx)(c.default,{href:"/login",className:"bg-violet-600 hover:bg-violet-700 text-white font-semibold px-4 py-2 rounded-full transition-colors",children:"Iniciar Sesión"})})]})}},54696,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(87924),c=a.i(72131);a.i(69387),a.i(16121);let d=()=>{let[a,d]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let a=async()=>{},b=setInterval(()=>{a()},5e3);return a(),()=>{clearInterval(b)}},[]),(0,b.jsx)("div",{className:`fixed bottom-4 right-4 text-xs text-white py-1 px-3 rounded-full ${a?"bg-green-600":"bg-red-600"}`,children:a?"Online":"Offline"})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__35b71d90._.js.map