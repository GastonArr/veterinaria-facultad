{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/mascotas/page.js"],"sourcesContent":["\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { collection, onSnapshot, query } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\n\n// Un componente visual para cada mascota en la lista\nfunction MascotaCard({ mascota }) {\n    return (\n        <div className=\"bg-white rounded-lg shadow-md p-4 flex items-center justify-between\">\n            <div>\n                <h3 className=\"text-lg font-bold text-gray-800\">{mascota.nombre}</h3>\n                <p className=\"text-sm text-gray-600\">{mascota.especie} - {mascota.raza}</p>\n            </div>\n            {/* Aquí podríamos añadir botones para ver detalles o editar */}\n            <Link href={`/mascotas/${mascota.id}/carnet`} className=\"text-indigo-600 hover:text-indigo-800 font-semibold\">Ver Carnet</Link>\n        </div>\n    );\n}\n\nexport default function MascotasPage() {\n    const { user, loading: authLoading } = useAuth();\n    const router = useRouter();\n    const [mascotas, setMascotas] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        if (authLoading) return; // Esperar a que la autenticación termine\n        if (!user) {\n            router.replace('/login');\n            return;\n        }\n\n        const mascotasRef = collection(db, 'users', user.uid, 'mascotas');\n        const q = query(mascotasRef);\n\n        const unsubscribe = onSnapshot(q, (snapshot) => {\n            const mascotasData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n            setMascotas(mascotasData);\n            setLoading(false);\n        }, (error) => {\n            console.error(\"Error al obtener las mascotas:\", error);\n            setLoading(false);\n        });\n\n        return () => unsubscribe(); // Limpiar el listener al desmontar\n    }, [user, authLoading, router]);\n\n    if (loading || authLoading) {\n        return <div className=\"text-center py-10\">Cargando tus mascotas...</div>;\n    }\n\n    return (\n        <main className=\"container mx-auto px-4 py-8\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h1 className=\"text-3xl font-bold\">Mis Mascotas</h1>\n                <Link href=\"/mascotas/nueva\" className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors duration-200\">\n                    + Agregar Mascota\n                </Link>\n            </div>\n\n            {mascotas.length === 0 ? (\n                <div className=\"text-center bg-white p-12 rounded-lg shadow-md\">\n                    <h2 className=\"text-xl font-semibold text-gray-700\">Aún no has registrado ninguna mascota.</h2>\n                    <p className=\"text-gray-500 mt-2 mb-6\">¡Tu compañero fiel merece estar aquí! Añádelo para llevar un control de su salud y turnos.</p>\n                    <Link href=\"/mascotas/nueva\" className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg transition-transform duration-200 hover:scale-105\">\n                        Agregar mi primera mascota\n                    </Link>\n                </div>\n            ) : (\n                <div className=\"space-y-4\">\n                    {mascotas.map(mascota => (\n                        <MascotaCard key={mascota.id} mascota={mascota} />\n                    ))}\n                </div>\n            )}\n        </main>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AAPA;;;;;;;;AASA,qDAAqD;AACrD,SAAS,YAAY,EAAE,OAAO,EAAE;IAC5B,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;;kCACG,8OAAC;wBAAG,WAAU;kCAAmC,QAAQ,MAAM;;;;;;kCAC/D,8OAAC;wBAAE,WAAU;;4BAAyB,QAAQ,OAAO;4BAAC;4BAAI,QAAQ,IAAI;;;;;;;;;;;;;0BAG1E,8OAAC,uKAAI;gBAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,CAAC,OAAO,CAAC;gBAAE,WAAU;0BAAsD;;;;;;;;;;;;AAG1H;AAEe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,IAAA,yIAAO;IAC9C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,IAAI,aAAa,QAAQ,yCAAyC;QAClE,IAAI,CAAC,MAAM;YACP,OAAO,OAAO,CAAC;YACf;QACJ;QAEA,MAAM,cAAc,IAAA,+KAAU,EAAC,4HAAE,EAAE,SAAS,KAAK,GAAG,EAAE;QACtD,MAAM,IAAI,IAAA,0KAAK,EAAC;QAEhB,MAAM,cAAc,IAAA,+KAAU,EAAC,GAAG,CAAC;YAC/B,MAAM,eAAe,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;oBAAE,IAAI,IAAI,EAAE;oBAAE,GAAG,IAAI,IAAI,EAAE;gBAAC,CAAC;YAC5E,YAAY;YACZ,WAAW;QACf,GAAG,CAAC;YACA,QAAQ,KAAK,CAAC,kCAAkC;YAChD,WAAW;QACf;QAEA,OAAO,IAAM,eAAe,mCAAmC;IACnE,GAAG;QAAC;QAAM;QAAa;KAAO;IAE9B,IAAI,WAAW,aAAa;QACxB,qBAAO,8OAAC;YAAI,WAAU;sBAAoB;;;;;;IAC9C;IAEA,qBACI,8OAAC;QAAK,WAAU;;0BACZ,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC,uKAAI;wBAAC,MAAK;wBAAkB,WAAU;kCAAuH;;;;;;;;;;;;YAKjK,SAAS,MAAM,KAAK,kBACjB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,8OAAC;wBAAE,WAAU;kCAA0B;;;;;;kCACvC,8OAAC,uKAAI;wBAAC,MAAK;wBAAkB,WAAU;kCAAgJ;;;;;;;;;;;qCAK3L,8OAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAA,wBACV,8OAAC;wBAA6B,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAMpD","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}