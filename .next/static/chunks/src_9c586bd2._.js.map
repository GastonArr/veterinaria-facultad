{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/Modal.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\n// Un componente de Modal genérico y reutilizable\nexport default function Modal({ isOpen, onClose, children }) {\n    useEffect(() => {\n        // Opcional: Cerrar el modal con la tecla Escape\n        const handleEsc = (event) => {\n            if (event.keyCode === 27) {\n                onClose();\n            }\n        };\n        window.addEventListener('keydown', handleEsc);\n\n        return () => {\n            window.removeEventListener('keydown', handleEsc);\n        };\n    }, [onClose]);\n\n    if (!isOpen) {\n        return null;\n    }\n\n    return (\n        <div \n            className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4\"\n            onClick={onClose} // Cierra el modal si se hace clic en el fondo\n        >\n            <div \n                className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full relative transform transition-all duration-300 ease-in-out scale-95 hover:scale-100\"\n                onClick={(e) => e.stopPropagation()} // Evita que el clic dentro del modal lo cierre\n            >\n                <button \n                    onClick={onClose} \n                    className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors\"\n                    aria-label=\"Cerrar modal\"\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                </button>\n                {children}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAKe,SAAS,MAAM,KAA6B;QAA7B,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAA7B;;IAC1B,IAAA,0KAAS;2BAAC;YACN,gDAAgD;YAChD,MAAM;6CAAY,CAAC;oBACf,IAAI,MAAM,OAAO,KAAK,IAAI;wBACtB;oBACJ;gBACJ;;YACA,OAAO,gBAAgB,CAAC,WAAW;YAEnC;mCAAO;oBACH,OAAO,mBAAmB,CAAC,WAAW;gBAC1C;;QACJ;0BAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,QAAQ;QACT,OAAO;IACX;IAEA,qBACI,6LAAC;QACG,WAAU;QACV,SAAS;kBAET,cAAA,6LAAC;YACG,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAEjC,6LAAC;oBACG,SAAS;oBACT,WAAU;oBACV,cAAW;8BAEX,cAAA,6LAAC;wBAAI,OAAM;wBAA6B,WAAU;wBAAU,MAAK;wBAAO,SAAQ;wBAAY,QAAO;kCAC/F,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;gBAG5E;;;;;;;;;;;;AAIjB;GAzCwB;KAAA","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/LoginModal.jsx"],"sourcesContent":["'use client';\nimport { useState, useRef, memo, useEffect } from 'react';\nimport dynamic from 'next/dynamic';\nimport Image from 'next/image';\nimport Modal from '@/app/components/Modal';\n\nconst ReCAPTCHA = dynamic(() => import('react-google-recaptcha'), { ssr: false });\n\nconst EyeIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\" />\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n);\n\nconst EyeSlashIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228\" />\n    </svg>\n);\n\nconst FormInput = memo(({ id, name, type, placeholder, value, onChange, required = false, pattern, maxLength, label, children }) => (\n    <div className=\"mb-4\">\n        <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor={id}>{label}</label>\n        <div className=\"relative\">\n            <input\n                className=\"shadow-sm appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10\"\n                id={id} name={name} type={type} placeholder={placeholder} value={value}\n                onChange={onChange} required={required} pattern={pattern} maxLength={maxLength}\n            />\n            {children}\n        </div>\n    </div>\n));\nFormInput.displayName = 'FormInput';\n\nexport default function LoginModal({ isOpen, onClose, useAuthHook }) {\n    const { currentUser, loginWithGoogle, loginWithEmail, registerWithEmailAndPassword, resetPassword } = useAuthHook();\n    const recaptchaRef = useRef();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [error, setError] = useState(null);\n    const [isRegistering, setIsRegistering] = useState(false);\n    const [showPassword, setShowPassword] = useState(false);\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isClient, setIsClient] = useState(false);\n\n    const [formData, setFormData] = useState({\n        nombre: '',\n        apellido: '',\n        dni: '',\n        telefonoPrincipal: '',\n        telefonoSecundario: '',\n        direccion: '',\n        barrio: '',\n        nombreContactoEmergencia: '',\n        telefonoContactoEmergencia: '',\n    });\n\n    useEffect(() => {\n        setIsClient(true);\n    }, []);\n\n    const handleLoginWithGoogle = async () => {\n        try {\n            await loginWithGoogle();\n            onClose();\n        } catch (error) {\n            console.error('Failed to login with Google', error);\n            setError('Fallo al iniciar sesión con Google');\n        }\n    };\n\n    const handleFormSubmit = async (e) => {\n        e.preventDefault();\n        setError(null);\n\n        if (isRegistering) {\n            if (password !== confirmPassword) {\n                return setError(\"Las contraseñas no coinciden.\");\n            }\n            if (password.length < 6) {\n                return setError(\"La contraseña debe tener al menos 6 caracteres.\");\n            }\n            setIsModalOpen(true);\n        } else {\n            try {\n                await loginWithEmail(email, password);\n                onClose();\n            } catch (error) {\n                console.error('Failed to login', error);\n                setError('Email o contraseña incorrectos.');\n            }\n        }\n    };\n\n    const handleFinalRegister = async () => {\n        if (!recaptchaRef.current) {\n             setError(\"El componente reCAPTCHA no está listo. Por favor, espera un segundo.\");\n             return;\n        }\n        const recaptchaToken = recaptchaRef.current.getValue();\n        if (!recaptchaToken) {\n            return setError(\"Por favor, verifica que no eres un robot.\");\n        }\n\n        try {\n            await registerWithEmailAndPassword(email, password, formData);\n            setIsModalOpen(false);\n            onClose();\n        } catch (error) {\n            console.error('Failed to register', error);\n            setError('No se pudo crear la cuenta. Es posible que el email ya esté en uso.');\n            if (recaptchaRef.current) {\n                recaptchaRef.current.reset();\n            }\n            setIsModalOpen(false);\n        }\n    };\n\n    const handlePasswordReset = async () => {\n        if (!email) {\n            return setError(\"Por favor, ingresa tu email para restablecer la contraseña.\");\n        }\n        setError(null);\n        try {\n            await resetPassword(email);\n            alert('Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada.');\n        } catch (error) {\n            console.error('Failed to send password reset email', error);\n            setError('No se pudo enviar el correo de restablecimiento.');\n        }\n    };\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        if ((name === 'dni' || name.includes('telefono')) && value && !/^[0-9]+$/.test(value)) {\n          return;\n        }\n        setFormData((prev) => ({ ...prev, [name]: value }));\n      };\n\n    const siteKey = process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY || \"YOUR_SITE_KEY\";\n\n    return (\n        <Modal isOpen={isOpen} onClose={onClose}>\n            <div className=\"w-full max-w-md bg-white rounded-2xl p-8\">\n                <h1 className=\"text-4xl font-bold text-center mb-6 text-gray-800\">{isRegistering ? 'Crear una Cuenta' : 'Iniciar Sesión'}</h1>\n                \n                {error && <p className=\"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center\">{error}</p>}\n                \n                <form onSubmit={handleFormSubmit}>\n                    <FormInput id=\"email\" name=\"email\" type=\"email\" label=\"Email\" placeholder=\"tu@email.com\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n                    <FormInput \n                        id=\"password\" name=\"password\" type={showPassword ? 'text' : 'password'} label=\"Contraseña\" \n                        placeholder=\"••••••••••\" value={password} onChange={(e) => setPassword(e.target.value)} required\n                    >\n                        <button type=\"button\" onClick={() => setShowPassword(!showPassword)} className=\"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500\">\n                            {showPassword ? <EyeSlashIcon /> : <EyeIcon />}\n                        </button>\n                    </FormInput>\n\n                    {isRegistering && (\n                        <FormInput \n                            id=\"confirmPassword\" name=\"confirmPassword\" type={showPassword ? 'text' : 'password'} \n                            label=\"Confirmar Contraseña\" placeholder=\"••••••••••\" value={confirmPassword} \n                            onChange={(e) => setConfirmPassword(e.target.value)} required\n                        />\n                    )}\n\n                    {isRegistering && (\n                        <>\n                            <hr className=\"my-6\" />\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <FormInput id=\"nombre\" name=\"nombre\" type=\"text\" label=\"Nombre\" placeholder=\"Juan\" value={formData.nombre} onChange={handleChange} required />\n                                <FormInput id=\"apellido\" name=\"apellido\" type=\"text\" label=\"Apellido\" placeholder=\"Pérez\" value={formData.apellido} onChange={handleChange} required />\n                            </div>\n                            <FormInput id=\"dni\" name=\"dni\" type=\"tel\" label=\"DNI\" placeholder=\"Sin puntos ni espacios\" value={formData.dni} onChange={handleChange} required maxLength=\"8\" />\n                            <FormInput id=\"direccion\" name=\"direccion\" type=\"text\" label=\"Dirección\" placeholder=\"Av. Siempreviva 742\" value={formData.direccion} onChange={handleChange} required />\n                            <FormInput id=\"barrio\" name=\"barrio\" type=\"text\" label=\"Barrio\" placeholder=\"Springfield\" value={formData.barrio} onChange={handleChange} required />\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <FormInput id=\"telefonoPrincipal\" name=\"telefonoPrincipal\" type=\"tel\" label=\"Teléfono Principal\" placeholder=\"1122334455\" value={formData.telefonoPrincipal} onChange={handleChange} required />\n                                <FormInput id=\"telefonoSecundario\" name=\"telefonoSecundario\" type=\"tel\" label=\"Teléfono Secundario\" placeholder=\"(Opcional)\" value={formData.telefonoSecundario} onChange={handleChange} />\n                            </div>\n                            \n                            <hr className=\"my-6\" />\n                            <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">Contacto de Emergencia</h3>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <FormInput id=\"nombreContactoEmergencia\" name=\"nombreContactoEmergencia\" type=\"text\" label=\"Nombre\" placeholder=\"Jane Doe\" value={formData.nombreContactoEmergencia} onChange={handleChange} required />\n                                <FormInput id=\"telefonoContactoEmergencia\" name=\"telefonoContactoEmergencia\" type=\"tel\" label=\"Teléfono\" placeholder=\"1188776655\" value={formData.telefonoContactoEmergencia} onChange={handleChange} required />\n                            </div>\n                        </>\n                    )}\n                    \n                    <div className=\"mt-6 flex items-center justify-between\">\n                        <button\n                            className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-transform transform hover:scale-105\"\n                            type=\"submit\"\n                        >\n                            {isRegistering ? 'Registrarme' : 'Entrar'}\n                        </button>\n                        {!isRegistering && (\n                            <a\n                                className=\"inline-block align-baseline font-bold text-sm text-blue-600 hover:text-blue-800 cursor-pointer\"\n                                onClick={handlePasswordReset}\n                            >\n                                ¿Olvidaste tu contraseña?\n                            </a>\n                        )}\n                    </div>\n                </form>\n                \n                <div className=\"text-center mt-6\">\n                    <button\n                        onClick={() => { setIsRegistering(!isRegistering); setError(null); }}\n                        className=\"font-bold text-sm text-gray-600 hover:text-gray-800\"\n                    >\n                        {isRegistering ? '¿Ya tienes una cuenta? Inicia Sesión' : '¿No tienes cuenta? Regístrate'}\n                    </button>\n                </div>\n\n                <div className=\"text-center mt-6\">\n                    <p className=\"text-gray-500 text-sm mb-4\">o</p>\n                    <button\n                        onClick={handleLoginWithGoogle}\n                        className=\"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-300 rounded-lg shadow-sm transition-all\"\n                    >\n                        <Image src=\"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png\" alt=\"Google Logo\" width={72} height={24} className=\"h-5 w-auto inline-block mr-2 align-middle\"/>\n                        Continuar con Google\n                    </button>\n                </div>\n            </div>\n\n            <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)}>\n                <div className=\"text-center\">\n                    <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">Verificación de Seguridad</h2>\n                    <p className=\"text-gray-600 mb-6\">Como último paso, por favor, completa el desafío para confirmar que eres humano.</p>\n                    <div className=\"flex justify-center mb-6 h-[78px]\">\n                        {isClient && (\n                            <ReCAPTCHA ref={recaptchaRef} sitekey={siteKey} />\n                        )}\n                    </div>\n                    <button\n                        onClick={handleFinalRegister}\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition-transform transform hover:scale-105\"\n                    >\n                        Completar Registro\n                    </button>\n                </div>\n            </Modal>\n        </Modal>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/lib/firebaseAdmin.js"],"sourcesContent":["// Historia de Usuario 5: Gestión de Roles de Usuario\n\nimport admin from 'firebase-admin';\n\n\nif (!admin.apps.length) {\n  try {\n    admin.initializeApp();\n  } catch (error) {\n    console.error('Error en la inicialización de Firebase Admin SDK:', error);\n  }\n}\n\n/**\n * Verifica la cookie de sesión de Firebase y devuelve el UID del usuario.\n * @param {string} sessionCookie La cadena de la cookie de sesión.\n * @returns {Promise<string|null>} El UID del usuario o null si la cookie no es válida.\n */\nexport async function getUserIdFromSession(sessionCookie) {\n  if (!sessionCookie) {\n    return null;\n  }\n  try {\n    const decodedClaims = await admin.auth().verifySessionCookie(sessionCookie, true);\n    return decodedClaims.uid;\n  } catch (error) {\n    console.error('Error al verificar la cookie de sesión:', error.code);\n    return null;\n  }\n}\n\n\nexport default admin;\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;;AAErD;;AAGA,IAAI,CAAC,+JAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,IAAI;QACF,+JAAK,CAAC,aAAa;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qDAAqD;IACrE;AACF;AAOO,eAAe,qBAAqB,aAAa;IACtD,IAAI,CAAC,eAAe;QAClB,OAAO;IACT;IACA,IAAI;QACF,MAAM,gBAAgB,MAAM,+JAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,eAAe;QAC5E,OAAO,cAAc,GAAG;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C,MAAM,IAAI;QACnE,OAAO;IACT;AACF;uCAGe,+JAAK","debugId":null}},
    {"offset": {"line": 814, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/GaleriaAdopciones.jsx"],"sourcesContent":["\nimport admin from '@/lib/firebaseAdmin';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\n// Esta es una función de servidor que obtiene los datos directamente de Firestore.\nasync function getMascotasEnAdopcion() {\n    try {\n        const firestore = admin.firestore();\n        // ¡CONSULTA CORREGIDA! Ahora también ordena por fecha de creación.\n        const mascotasSnapshot = await firestore\n            .collectionGroup('mascotas')\n            .where('enAdopcion', '==', true)\n            .orderBy('createdAt', 'desc') // Mostramos las más recientes primero\n            .limit(8)\n            .get();\n\n        if (mascotasSnapshot.empty) {\n            return [];\n        }\n\n        const mascotas = mascotasSnapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data(),\n        }));\n\n        return mascotas;\n\n    } catch (error) {\n        console.error(\"Error al obtener mascotas en adopción:\", error);\n        // Si la consulta falla (por ejemplo, por el índice), devolvemos un array vacío.\n        // La consola del servidor de Next.js mostrará un error con un enlace para crear el índice.\n        return [];\n    }\n}\n\n// --- Componente de la Tarjeta de Mascota ---\nfunction MascotaCard({ mascota }) {\n    // Usamos la especie para obtener una imagen más relevante. Default a 'animal' si no está definida.\n    const especie = mascota.especie?.toLowerCase() === 'gato' ? 'cat' : 'dog';\n\n    return (\n        <Link href={`/adopciones/${mascota.id}`} className=\"group block bg-white rounded-2xl shadow-lg hover:shadow-2xl overflow-hidden transform hover:-translate-y-2 transition-all duration-300 ease-out\">\n            <div className=\"relative w-full h-56\">\n                <Image \n                    src={`https://loremflickr.com/320/320/${especie}?lock=${mascota.id}`} // loremflickr para fotos realistas y lock para que sea consistente\n                    alt={`Foto de ${mascota.nombre}`}\n                    fill\n                    style={{ objectFit: 'cover' }}\n                    className=\"transition-transform duration-300 group-hover:scale-110\"\n                />\n                {/* Overlay que aparece al hacer hover */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    <span className=\"text-white text-lg font-bold\">Ver Perfil</span>\n                </div>\n            </div>\n            <div className=\"p-5\">\n                <div className=\"flex justify-between items-start\">\n                    <h3 className=\"text-2xl font-bold text-gray-900 truncate\">{mascota.nombre}</h3>\n                    <span className={`mt-1 inline-block px-3 py-1 text-xs font-semibold rounded-full ${ \n                        mascota.sexo === 'macho' ? 'bg-blue-200 text-blue-800' :\n                        'bg-pink-200 text-pink-800'\n                    }`}>\n                        {mascota.sexo}\n                    </span>\n                </div>\n                <p className=\"text-gray-600 capitalize mb-3\">{mascota.raza}</p>\n                <span className={`inline-block px-3 py-1 text-sm font-semibold rounded-full ${ \n                    mascota.tamaño === 'grande' ? 'bg-red-200 text-red-800' :\n                    mascota.tamaño === 'mediano' ? 'bg-yellow-200 text-yellow-800' :\n                    'bg-green-200 text-green-800'\n                }`}>\n                    {mascota.tamaño}\n                </span>\n            </div>\n        </Link>\n    );\n}\n\n\n// --- Componente Principal de la Galería ---\nexport default async function GaleriaAdopciones() {\n    const mascotas = await getMascotasEnAdopcion();\n\n    return (\n        <section className=\"mb-20 md:mb-28\">\n            <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl md:text-5xl font-extrabold text-gray-800\">Una Nueva Oportunidad</h2>\n                <p className=\"text-lg text-gray-500 mt-2 max-w-2xl mx-auto\">Estos maravillosos compañeros están buscando un hogar lleno de amor. ¿Serás tú?</p>\n            </div>\n\n            {mascotas.length === 0 ? (\n                <div className=\"text-center text-gray-600 bg-gray-50 p-10 rounded-2xl shadow-inner border border-gray-200\">\n                     <p className=\"text-lg max-w-3xl mx-auto\">Por ahora no hay amiguitos buscando un nuevo hogar, ¡pero vuelve a revisar pronto!</p>\n                </div>\n            ) : (\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n                    {mascotas.map(mascota => (\n                        <MascotaCard key={mascota.id} mascota={mascota} />\n                    ))}\n                </div>\n            )}\n        </section>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;;;AAEA,mFAAmF;AACnF,eAAe;IACX,IAAI;QACA,MAAM,YAAY,yIAAK,CAAC,SAAS;QACjC,mEAAmE;QACnE,MAAM,mBAAmB,MAAM,UAC1B,eAAe,CAAC,YAChB,KAAK,CAAC,cAAc,MAAM,MAC1B,OAAO,CAAC,aAAa,QAAQ,sCAAsC;SACnE,KAAK,CAAC,GACN,GAAG;QAER,IAAI,iBAAiB,KAAK,EAAE;YACxB,OAAO,EAAE;QACb;QAEA,MAAM,WAAW,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC/C,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;YACjB,CAAC;QAED,OAAO;IAEX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0CAA0C;QACxD,gFAAgF;QAChF,2FAA2F;QAC3F,OAAO,EAAE;IACb;AACJ;AAEA,8CAA8C;AAC9C,SAAS,YAAY,KAAW;QAAX,EAAE,OAAO,EAAE,GAAX;QAED;IADhB,mGAAmG;IACnG,MAAM,UAAU,EAAA,mBAAA,QAAQ,OAAO,cAAf,uCAAA,iBAAiB,WAAW,QAAO,SAAS,QAAQ;IAEpE,qBACI,6LAAC,0KAAI;QAAC,MAAM,AAAC,eAAyB,OAAX,QAAQ,EAAE;QAAI,WAAU;;0BAC/C,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,2IAAK;wBACF,KAAK,AAAC,mCAAkD,OAAhB,SAAQ,UAAmB,OAAX,QAAQ,EAAE;wBAClE,KAAK,AAAC,WAAyB,OAAf,QAAQ,MAAM;wBAC9B,IAAI;wBACJ,OAAO;4BAAE,WAAW;wBAAQ;wBAC5B,WAAU;;;;;;kCAGd,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;;;;;;;0BAGvD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAA6C,QAAQ,MAAM;;;;;;0CACzE,6LAAC;gCAAK,WAAW,AAAC,kEAGjB,OAFG,QAAQ,IAAI,KAAK,UAAU,8BAC3B;0CAEC,QAAQ,IAAI;;;;;;;;;;;;kCAGrB,6LAAC;wBAAE,WAAU;kCAAiC,QAAQ,IAAI;;;;;;kCAC1D,6LAAC;wBAAK,WAAW,AAAC,6DAIjB,OAHG,QAAQ,MAAM,KAAK,WAAW,4BAC9B,QAAQ,MAAM,KAAK,YAAY,kCAC/B;kCAEC,QAAQ,MAAM;;;;;;;;;;;;;;;;;;AAKnC;KAxCS;AA4CM,eAAe;IAC1B,MAAM,WAAW,MAAM;IAEvB,qBACI,6LAAC;QAAQ,WAAU;;0BACf,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,6LAAC;wBAAE,WAAU;kCAA+C;;;;;;;;;;;;YAG/D,SAAS,MAAM,KAAK,kBACjB,6LAAC;gBAAI,WAAU;0BACV,cAAA,6LAAC;oBAAE,WAAU;8BAA4B;;;;;;;;;;qCAG9C,6LAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAA,wBACV,6LAAC;wBAA6B,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAMpD;MAvB8B","debugId":null}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/Carrito.jsx"],"sourcesContent":["\n// --- Componente del Carrito de Compras ---\nexport default function Carrito({ items, onEliminarItem }) {\n    // Calculamos el subtotal sumando el precio de cada item por su cantidad\n    const subtotal = items.reduce((total, item) => total + item.precio * item.cantidad, 0);\n\n    return (\n        <div className=\"bg-white rounded-2xl shadow-lg p-6 border border-gray-200\">\n            <h3 className=\"text-2xl font-bold text-gray-800 mb-4 text-center\">Mi Carrito</h3>\n            {items.length === 0 ? (\n                <p className=\"text-gray-500 text-center\">Aún no has agregado productos.</p>\n            ) : (\n                <div className=\"space-y-4\">\n                    {items.map(item => (\n                        <div key={item.id} className=\"flex justify-between items-center border-b pb-2\">\n                            <div>\n                                <p className=\"font-semibold text-gray-700\">{item.nombre}</p>\n                                <p className=\"text-sm text-gray-500\">${item.precio.toLocaleString('es-AR')} x {item.cantidad}</p>\n                            </div>\n                            <button \n                                onClick={() => onEliminarItem(item.id)}\n                                className=\"text-red-500 hover:text-red-700 font-semibold text-sm\">\n                                Quitar\n                            </button>\n                        </div>\n                    ))}\n                </div>\n            )}\n\n            {/* Total y Botón de Checkout */}\n            {items.length > 0 && (\n                <div className=\"mt-6 border-t pt-4\">\n                    <div className=\"flex justify-between items-center font-bold text-lg mb-4\">\n                        <span>Subtotal:</span>\n                        <span>${subtotal.toLocaleString('es-AR')}</span>\n                    </div>\n                    <button className=\"w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors\">\n                        Finalizar Compra\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"AACA,4CAA4C;;;;;;;AAC7B,SAAS,QAAQ,KAAyB;QAAzB,EAAE,KAAK,EAAE,cAAc,EAAE,GAAzB;IAC5B,wEAAwE;IACxE,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,MAAM,GAAG,KAAK,QAAQ,EAAE;IAEpF,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAoD;;;;;;YACjE,MAAM,MAAM,KAAK,kBACd,6LAAC;gBAAE,WAAU;0BAA4B;;;;;qCAEzC,6LAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAA,qBACP,6LAAC;wBAAkB,WAAU;;0CACzB,6LAAC;;kDACG,6LAAC;wCAAE,WAAU;kDAA+B,KAAK,MAAM;;;;;;kDACvD,6LAAC;wCAAE,WAAU;;4CAAwB;4CAAE,KAAK,MAAM,CAAC,cAAc,CAAC;4CAAS;4CAAI,KAAK,QAAQ;;;;;;;;;;;;;0CAEhG,6LAAC;gCACG,SAAS,IAAM,eAAe,KAAK,EAAE;gCACrC,WAAU;0CAAwD;;;;;;;uBAPhE,KAAK,EAAE;;;;;;;;;;YAgB5B,MAAM,MAAM,GAAG,mBACZ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAK;;;;;;0CACN,6LAAC;;oCAAK;oCAAE,SAAS,cAAc,CAAC;;;;;;;;;;;;;kCAEpC,6LAAC;wBAAO,WAAU;kCAA+G;;;;;;;;;;;;;;;;;;AAOrJ;KAzCwB","debugId":null}},
    {"offset": {"line": 1172, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/components/VistaTienda.jsx"],"sourcesContent":["\n'use client';\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport Carrito from './Carrito';\n\nconst productosDeMuestra = [\n    { id: 1, nombre: 'Alimento Premium', descripcion: 'Bolsa de 15kg para perros', precio: 55000.00, imagen: 'dog food' },\n    { id: 2, nombre: 'Juguete Hueso de Goma', descripcion: 'Resistente y seguro para la mordida', precio: 7500.00, imagen: 'dog toy' },\n    { id: 3, nombre: 'Collar de Cuero Ajustable', descripcion: 'Elegante y duradero para paseos', precio: 12000.00, imagen: 'dog collar' },\n    { id: 4, nombre: 'Shampoo Hipoalergénico', descripcion: 'Cuidado suave para pieles sensibles', precio: 9800.00, imagen: 'pet shampoo' },\n];\n\nfunction ProductoCard({ producto, onAgregarAlCarrito }) {\n    return (\n        <div className=\"group bg-white rounded-2xl shadow-lg hover:shadow-2xl overflow-hidden flex flex-col justify-between transform hover:-translate-y-1 transition-all duration-300 ease-out\">\n            <div className=\"relative w-full h-48\">\n                <Image \n                    src={`https://loremflickr.com/320/320/${producto.imagen}?lock=${producto.id}`}\n                    alt={`Imagen de ${producto.nombre}`}\n                    fill\n                    style={{ objectFit: 'cover' }}\n                    className=\"transition-transform duration-300 group-hover:scale-110\"\n                />\n            </div>\n            <div className=\"p-5 flex-grow\">\n                <h3 className=\"text-lg font-bold text-gray-800\">{producto.nombre}</h3>\n                <p className=\"text-sm text-gray-500 mb-3\">{producto.descripcion}</p>\n                <p className=\"text-2xl font-black text-violet-700\">${producto.precio.toLocaleString('es-AR')}</p>\n            </div>\n            <div className=\"p-4 bg-gray-50 border-t border-gray-100\">\n                 <button \n                    onClick={() => onAgregarAlCarrito(producto)}\n                    className=\"w-full bg-teal-500 hover:bg-teal-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 ease-out flex items-center justify-center gap-2 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-teal-300\">\n                     <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\"><path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l.893-.892L7.383 9.5l.01-.042L8.846 3.5l.01-.042h7.444a1 1 0 00.97-.733l2-5a1 1 0 00-.97-1.267H3zM6.002 11.5l-1.1 4.4a1 1 0 101.998.2L7 11.5H6.002zM15 16a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z\" /></svg>\n                     <span>Agregar</span>\n                 </button>\n            </div>\n        </div>\n    );\n}\n\nexport default function VistaTienda() {\n    const [carrito, setCarrito] = useState([]);\n\n    const handleAgregarAlCarrito = (producto) => {\n        const productoExistente = carrito.find(item => item.id === producto.id);\n        if (productoExistente) {\n            setCarrito(carrito.map(item => item.id === producto.id ? { ...item, cantidad: item.cantidad + 1 } : item));\n        } else {\n            setCarrito([...carrito, { ...producto, cantidad: 1 }]);\n        }\n    };\n\n    const handleEliminarDelCarrito = (productoId) => {\n        setCarrito(carrito.filter(item => item.id !== productoId));\n    };\n\n    return (\n        <section>\n             <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl md:text-5xl font-extrabold text-gray-800\">Nuestra Tienda</h2>\n                <p className=\"text-lg text-gray-500 mt-2 max-w-2xl mx-auto\">Todo lo que necesitas para el cuidado y la felicidad de tu compañero.</p>\n            </div>\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-12 items-start\">\n                <div className=\"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-8\">\n                    {productosDeMuestra.map(producto => (\n                        <ProductoCard key={producto.id} producto={producto} onAgregarAlCarrito={handleAgregarAlCarrito} />\n                    ))}\n                </div>\n                <div className=\"lg:col-span-1 sticky top-28\"> {/* Aumentado el top para que no choque con el header */}\n                    <Carrito items={carrito} onEliminarItem={handleEliminarDelCarrito} />\n                </div>\n            </div>\n        </section>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,qBAAqB;IACvB;QAAE,IAAI;QAAG,QAAQ;QAAoB,aAAa;QAA6B,QAAQ;QAAU,QAAQ;IAAW;IACpH;QAAE,IAAI;QAAG,QAAQ;QAAyB,aAAa;QAAuC,QAAQ;QAAS,QAAQ;IAAU;IACjI;QAAE,IAAI;QAAG,QAAQ;QAA6B,aAAa;QAAmC,QAAQ;QAAU,QAAQ;IAAa;IACrI;QAAE,IAAI;QAAG,QAAQ;QAA0B,aAAa;QAAuC,QAAQ;QAAS,QAAQ;IAAc;CACzI;AAED,SAAS,aAAa,KAAgC;QAAhC,EAAE,QAAQ,EAAE,kBAAkB,EAAE,GAAhC;IAClB,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,2IAAK;oBACF,KAAK,AAAC,mCAA0D,OAAxB,SAAS,MAAM,EAAC,UAAoB,OAAZ,SAAS,EAAE;oBAC3E,KAAK,AAAC,aAA4B,OAAhB,SAAS,MAAM;oBACjC,IAAI;oBACJ,OAAO;wBAAE,WAAW;oBAAQ;oBAC5B,WAAU;;;;;;;;;;;0BAGlB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAmC,SAAS,MAAM;;;;;;kCAChE,6LAAC;wBAAE,WAAU;kCAA8B,SAAS,WAAW;;;;;;kCAC/D,6LAAC;wBAAE,WAAU;;4BAAsC;4BAAE,SAAS,MAAM,CAAC,cAAc,CAAC;;;;;;;;;;;;;0BAExF,6LAAC;gBAAI,WAAU;0BACV,cAAA,6LAAC;oBACE,SAAS,IAAM,mBAAmB;oBAClC,WAAU;;sCACT,6LAAC;4BAAI,OAAM;4BAA6B,WAAU;4BAAU,SAAQ;4BAAY,MAAK;sCAAe,cAAA,6LAAC;gCAAK,GAAE;;;;;;;;;;;sCAC5G,6LAAC;sCAAK;;;;;;;;;;;;;;;;;;;;;;;AAK3B;KA3BS;AA6BM,SAAS;;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAEzC,MAAM,yBAAyB,CAAC;QAC5B,MAAM,oBAAoB,QAAQ,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,SAAS,EAAE;QACtE,IAAI,mBAAmB;YACnB,WAAW,QAAQ,GAAG,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,SAAS,EAAE,GAAG;oBAAE,GAAG,IAAI;oBAAE,UAAU,KAAK,QAAQ,GAAG;gBAAE,IAAI;QACxG,OAAO;YACH,WAAW;mBAAI;gBAAS;oBAAE,GAAG,QAAQ;oBAAE,UAAU;gBAAE;aAAE;QACzD;IACJ;IAEA,MAAM,2BAA2B,CAAC;QAC9B,WAAW,QAAQ,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAClD;IAEA,qBACI,6LAAC;;0BACI,6LAAC;gBAAI,WAAU;;kCACZ,6LAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,6LAAC;wBAAE,WAAU;kCAA+C;;;;;;;;;;;;0BAEhE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACV,mBAAmB,GAAG,CAAC,CAAA,yBACpB,6LAAC;gCAA+B,UAAU;gCAAU,oBAAoB;+BAArD,SAAS,EAAE;;;;;;;;;;kCAGtC,6LAAC;wBAAI,WAAU;;4BAA8B;0CACzC,6LAAC,kJAAO;gCAAC,OAAO;gCAAS,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;AAK7D;GAlCwB;MAAA","debugId":null}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///home/user/veterinariamagali/src/app/page.js"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useAuth } from '@/contexts/AuthContext';\nimport LoginModal from '@/app/components/LoginModal.jsx';\nimport GaleriaAdopciones from '@/app/components/GaleriaAdopciones.jsx';\nimport VistaTienda from '@/app/components/VistaTienda.jsx';\n\nexport default function HomePage() {\n    const { currentUser } = useAuth();\n    const [isLoginModalOpen, setLoginModalOpen] = useState(false);\n\n    const [isClient, setIsClient] = useState(false);\n    useEffect(() => {\n        setIsClient(true);\n    }, []);\n\n\n    if (!isClient) {\n        return null;\n    }\n\n    if (!currentUser) {\n        return (\n            <>\n                <div \n                    className=\"relative min-h-screen flex items-center justify-center bg-cover bg-center\"\n                    style={{ backgroundImage: \"url('/patron1.jpg')\" }}\n                >\n                    <div className=\"absolute inset-0 bg-black opacity-30\"></div>\n                    <div className=\"relative z-10 bg-white bg-opacity-80 p-8 md:p-12 rounded-xl shadow-2xl max-w-lg w-full text-center backdrop-blur-sm\">\n                        <div className=\"flex justify-center mb-6\">\n                            <Image src=\"/LOGO.svg\" alt=\"Magalí Martin Veterinaria\" width={250} height={100} />\n                        </div>\n                        <h1 className=\"text-2xl md:text-3xl font-bold text-gray-800 mb-4\">\n                            ¡Bienvenido a la <span className=\"text-cyan-600\">Veterinaria Online</span>!\n                        </h1>\n                        <p className=\"text-gray-600 mb-3\">\n                            Aquí puedes encontrar la mejor atención para tus mascotas.\n                        </p>\n                        <p className=\"text-gray-600 mb-3\">\n                            Reservar turnos para la veterinaria y la peluquería de tus mascotas.\n                        </p>\n                        <p className=\"text-gray-600 mb-8\">\n                            Realizar compras y ver mascotas en adopción.\n                        </p>\n                        <button\n                            onClick={() => setLoginModalOpen(true)}\n                            className=\"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-lg\"\n                        >\n                            Ingresar\n                        </button>\n                    </div>\n                </div>\n                <LoginModal \n                    isOpen={isLoginModalOpen} \n                    onClose={() => setLoginModalOpen(false)}\n                    useAuthHook={useAuth} \n                />\n            </>\n        );\n    }\n\n    return (\n        <main className=\"flex-grow bg-white\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20\">\n                <section className=\"text-center mb-20 md:mb-28\">\n                    <div className=\"flex flex-col md:flex-row justify-center items-center gap-8\">\n                        <Link \n                            href=\"/turnos/consulta\" \n                            className=\"w-full md:w-auto bg-violet-600 hover:bg-violet-700 text-white font-bold py-5 px-10 rounded-xl text-lg uppercase tracking-wider transition-transform transform hover:scale-105 shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-violet-300\"\n                        >\n                            Pedir Turno Consulta\n                        </Link>\n                        <Link \n                            href=\"/turnos/peluqueria\" \n                            className=\"w-full md:w-auto bg-teal-500 hover:bg-teal-600 text-white font-bold py-5 px-10 rounded-xl text-lg uppercase tracking-wider transition-transform transform hover:scale-105 shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-teal-300\"\n                        >\n                            Pedir Turno Peluquería\n                        </Link>\n                    </div>\n                </section>\n                <GaleriaAdopciones />\n                <VistaTienda />\n            </div>\n        </main>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;;AASe,SAAS;;IACpB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,4IAAO;IAC/B,MAAM,CAAC,kBAAkB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAEvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,IAAA,0KAAS;8BAAC;YACN,YAAY;QAChB;6BAAG,EAAE;IAGL,IAAI,CAAC,UAAU;QACX,OAAO;IACX;IAEA,IAAI,CAAC,aAAa;QACd,qBACI;;8BACI,6LAAC;oBACG,WAAU;oBACV,OAAO;wBAAE,iBAAiB;oBAAsB;;sCAEhD,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,2IAAK;wCAAC,KAAI;wCAAY,KAAI;wCAA4B,OAAO;wCAAK,QAAQ;;;;;;;;;;;8CAE/E,6LAAC;oCAAG,WAAU;;wCAAoD;sDAC7C,6LAAC;4CAAK,WAAU;sDAAgB;;;;;;wCAAyB;;;;;;;8CAE9E,6LAAC;oCAAE,WAAU;8CAAqB;;;;;;8CAGlC,6LAAC;oCAAE,WAAU;8CAAqB;;;;;;8CAGlC,6LAAC;oCAAE,WAAU;8CAAqB;;;;;;8CAGlC,6LAAC;oCACG,SAAS,IAAM,kBAAkB;oCACjC,WAAU;8CACb;;;;;;;;;;;;;;;;;;8BAKT,6LAAC,qJAAU;oBACP,QAAQ;oBACR,SAAS,IAAM,kBAAkB;oBACjC,aAAa,4IAAO;;;;;;;;IAIpC;IAEA,qBACI,6LAAC;QAAK,WAAU;kBACZ,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAQ,WAAU;8BACf,cAAA,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,0KAAI;gCACD,MAAK;gCACL,WAAU;0CACb;;;;;;0CAGD,6LAAC,0KAAI;gCACD,MAAK;gCACL,WAAU;0CACb;;;;;;;;;;;;;;;;;8BAKT,6LAAC,4JAAiB;;;;;8BAClB,6LAAC,sJAAW;;;;;;;;;;;;;;;;AAI5B;GA/EwB;;QACI,4IAAO;;;KADX","debugId":null}}]
}