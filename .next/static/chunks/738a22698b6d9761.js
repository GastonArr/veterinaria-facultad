(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29978,e=>{"use strict";e.s(["default",()=>l],29978);var a=e.i(43476),t=e.i(71645),s=e.i(73518),i=e.i(95187),r=(0,i.createServerReference)("60a8d1efab3c5d77cfe814777f59789d34f62988eb",i.callServer,void 0,i.findSourceMapURL,"agregarMascota");e.i(36180);var o=e.i(98925);function l(){let{user:e}=(0,s.useAuth)(),[i,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[n,m]=(0,t.useState)(!1),u=async a=>{if(a.preventDefault(),l(""),d(""),m(!0),!e){l("Debes iniciar sesión para registrar una mascota."),m(!1);return}let t=new FormData(a.currentTarget),s={nombre:t.get("nombre"),especie:t.get("especie"),raza:t.get("raza"),fechaNacimiento:t.get("fechaNacimiento"),sexo:t.get("sexo"),tamaño:t.get("tamaño"),enAdopcion:"on"===t.get("enAdopcion"),createdAt:o.Timestamp.now()};if(!s.nombre||!s.especie||!s.raza||!s.fechaNacimiento||!s.sexo){l("Por favor, completa todos los campos obligatorios."),m(!1);return}try{let t=await r(e.uid,s);t.success?(d("¡Mascota registrada con éxito! En breve serás redirigido..."),a.target.reset(),setTimeout(()=>{window.location.href="/mascotas"},2e3)):l(t.error||"Ocurrió un error inesperado.")}catch(e){l(e.message)}finally{m(!1)}};return(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,a.jsx)("input",{type:"text",name:"nombre",id:"nombre",required:!0,className:"mt-1 block w-full input",placeholder:"Ej: Rocky",disabled:n})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"fechaNacimiento",className:"block text-sm font-medium text-gray-700",children:"Fecha de Nacimiento"}),(0,a.jsx)("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento",required:!0,className:"mt-1 block w-full input",disabled:n})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"especie",className:"block text-sm font-medium text-gray-700",children:"Especie"}),(0,a.jsx)("input",{type:"text",name:"especie",id:"especie",required:!0,className:"mt-1 block w-full input",placeholder:"Ej: Perro",disabled:n})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"raza",className:"block text-sm font-medium text-gray-700",children:"Raza"}),(0,a.jsx)("input",{type:"text",name:"raza",id:"raza",required:!0,className:"mt-1 block w-full input",placeholder:"Ej: Labrador",disabled:n})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"sexo",className:"block text-sm font-medium text-gray-700",children:"Sexo"}),(0,a.jsxs)("select",{name:"sexo",id:"sexo",required:!0,className:"mt-1 block w-full input",disabled:n,children:[(0,a.jsx)("option",{value:"",children:"Selecciona..."}),(0,a.jsx)("option",{value:"macho",children:"Macho"}),(0,a.jsx)("option",{value:"hembra",children:"Hembra"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tamaño",className:"block text-sm font-medium text-gray-700",children:"Tamaño"}),(0,a.jsxs)("select",{name:"tamaño",id:"tamaño",required:!0,className:"mt-1 block w-full input",disabled:n,children:[(0,a.jsx)("option",{value:"pequeño",children:"Pequeño"}),(0,a.jsx)("option",{value:"mediano",children:"Mediano"}),(0,a.jsx)("option",{value:"grande",children:"Grande"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center pt-4",children:[(0,a.jsx)("input",{id:"enAdopcion",name:"enAdopcion",type:"checkbox",className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-gray-300 rounded",disabled:n}),(0,a.jsx)("label",{htmlFor:"enAdopcion",className:"ml-3 block text-sm text-gray-900",children:"Marcar para poner en adopción"})]}),i&&(0,a.jsx)("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:i}),c&&(0,a.jsx)("p",{className:"text-sm text-green-600 bg-green-100 p-3 rounded-md",children:c}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-full shadow-sm text-lg font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 transition-colors duration-300 disabled:bg-violet-400 disabled:cursor-not-allowed",children:n?"Guardando...":"Registrar Mascota"})})]})}}]);